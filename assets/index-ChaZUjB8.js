(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var yf={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function xE(){if(Wp)return Ol;Wp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var ty;function UE(){return ty||(ty=1,yf.exports=xE()),yf.exports}var Mt=UE(),_f={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function zE(){if(ey)return Tt;ey=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function $(D,X,et){this.props=D,this.context=X,this.refs=nt,this.updater=et||j}$.prototype.isReactComponent={},$.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Et(){}Et.prototype=$.prototype;function gt(D,X,et){this.props=D,this.context=X,this.refs=nt,this.updater=et||j}var ft=gt.prototype=new Et;ft.constructor=gt,Z(ft,$.prototype),ft.isPureReactComponent=!0;var Ut=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function O(D,X,et,J,ot,bt){return et=bt.ref,{$$typeof:s,type:D,key:X,ref:et!==void 0?et:null,props:bt}}function S(D,X){return O(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function N(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return X[et]})}var M=/\/+/g;function U(D,X){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):X.toString(36)}function R(){}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,X,et,J,ot){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var pt=!1;if(D===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(D.$$typeof){case s:case e:pt=!0;break;case A:return pt=D._init,ie(pt(D._payload),X,et,J,ot)}}if(pt)return ot=ot(D),pt=J===""?"."+U(D,0):J,Ut(ot)?(et="",pt!=null&&(et=pt.replace(M,"$&/")+"/"),ie(ot,X,et,"",function(xn){return xn})):ot!=null&&(w(ot)&&(ot=S(ot,et+(ot.key==null||D&&D.key===ot.key?"":(""+ot.key).replace(M,"$&/")+"/")+pt)),X.push(ot)),1;pt=0;var be=J===""?".":J+":";if(Ut(D))for(var Zt=0;Zt<D.length;Zt++)J=D[Zt],bt=be+U(J,Zt),pt+=ie(J,X,et,bt,ot);else if(Zt=I(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(J=D.next()).done;)J=J.value,bt=be+U(J,Zt++),pt+=ie(J,X,et,bt,ot);else if(bt==="object"){if(typeof D.then=="function")return ie(Ne(D),X,et,J,ot);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(D,X,et){if(D==null)return D;var J=[],ot=0;return ie(D,J,"","",function(bt){return X.call(et,bt,ot++)}),J}function tt(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Pt(){}return Tt.Children={map:H,forEach:function(D,X,et){H(D,function(){X.apply(this,arguments)},et)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Tt.Component=$,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=gt,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return vt.H.useMemoCache(D)}},Tt.cache=function(D){return function(){return D.apply(null,arguments)}},Tt.cloneElement=function(D,X,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=Z({},D.props),ot=D.key,bt=void 0;if(X!=null)for(pt in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(ot=""+X.key),X)!Lt.call(X,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&X.ref===void 0||(J[pt]=X[pt]);var pt=arguments.length-2;if(pt===1)J.children=et;else if(1<pt){for(var be=Array(pt),Zt=0;Zt<pt;Zt++)be[Zt]=arguments[Zt+2];J.children=be}return O(D.type,ot,void 0,void 0,bt,J)},Tt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Tt.createElement=function(D,X,et){var J,ot={},bt=null;if(X!=null)for(J in X.key!==void 0&&(bt=""+X.key),X)Lt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ot[J]=X[J]);var pt=arguments.length-2;if(pt===1)ot.children=et;else if(1<pt){for(var be=Array(pt),Zt=0;Zt<pt;Zt++)be[Zt]=arguments[Zt+2];ot.children=be}if(D&&D.defaultProps)for(J in pt=D.defaultProps,pt)ot[J]===void 0&&(ot[J]=pt[J]);return O(D,bt,void 0,void 0,null,ot)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(D){return{$$typeof:g,render:D}},Tt.isValidElement=w,Tt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},Tt.memo=function(D,X){return{$$typeof:_,type:D,compare:X===void 0?null:X}},Tt.startTransition=function(D){var X=vt.T,et={};vt.T=et;try{var J=D(),ot=vt.S;ot!==null&&ot(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Pt,lt)}catch(bt){lt(bt)}finally{vt.T=X}},Tt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Tt.use=function(D){return vt.H.use(D)},Tt.useActionState=function(D,X,et){return vt.H.useActionState(D,X,et)},Tt.useCallback=function(D,X){return vt.H.useCallback(D,X)},Tt.useContext=function(D){return vt.H.useContext(D)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(D,X){return vt.H.useDeferredValue(D,X)},Tt.useEffect=function(D,X,et){var J=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,X)},Tt.useId=function(){return vt.H.useId()},Tt.useImperativeHandle=function(D,X,et){return vt.H.useImperativeHandle(D,X,et)},Tt.useInsertionEffect=function(D,X){return vt.H.useInsertionEffect(D,X)},Tt.useLayoutEffect=function(D,X){return vt.H.useLayoutEffect(D,X)},Tt.useMemo=function(D,X){return vt.H.useMemo(D,X)},Tt.useOptimistic=function(D,X){return vt.H.useOptimistic(D,X)},Tt.useReducer=function(D,X,et){return vt.H.useReducer(D,X,et)},Tt.useRef=function(D){return vt.H.useRef(D)},Tt.useState=function(D){return vt.H.useState(D)},Tt.useSyncExternalStore=function(D,X,et){return vt.H.useSyncExternalStore(D,X,et)},Tt.useTransition=function(){return vt.H.useTransition()},Tt.version="19.1.0",Tt}var ny;function ed(){return ny||(ny=1,_f.exports=zE()),_f.exports}var ls=ed(),vf={exports:{}},Ml={},Ef={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function LE(){return iy||(iy=1,function(s){function e(H,tt){var lt=H.length;H.push(tt);t:for(;0<lt;){var Pt=lt-1>>>1,D=H[Pt];if(0<u(D,tt))H[Pt]=tt,H[lt]=D,lt=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],lt=H.pop();if(lt!==tt){H[0]=lt;t:for(var Pt=0,D=H.length,X=D>>>1;Pt<X;){var et=2*(Pt+1)-1,J=H[et],ot=et+1,bt=H[ot];if(0>u(J,lt))ot<D&&0>u(bt,J)?(H[Pt]=bt,H[ot]=lt,Pt=ot):(H[Pt]=J,H[et]=lt,Pt=et);else if(ot<D&&0>u(bt,lt))H[Pt]=bt,H[ot]=lt,Pt=ot;else break t}}return tt}function u(H,tt){var lt=H.sortIndex-tt.sortIndex;return lt!==0?lt:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,C=null,I=3,j=!1,Z=!1,nt=!1,$=!1,Et=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Ut(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=H)a(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function vt(H){if(nt=!1,Ut(H),!Z)if(i(v)!==null)Z=!0,Lt||(Lt=!0,U());else{var tt=i(_);tt!==null&&ie(vt,tt.startTime-H)}}var Lt=!1,O=-1,S=5,w=-1;function N(){return $?!0:!(s.unstable_now()-w<S)}function M(){if($=!1,Lt){var H=s.unstable_now();w=H;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,gt(O),O=-1),j=!0;var lt=I;try{e:{for(Ut(H),C=i(v);C!==null&&!(C.expirationTime>H&&N());){var Pt=C.callback;if(typeof Pt=="function"){C.callback=null,I=C.priorityLevel;var D=Pt(C.expirationTime<=H);if(H=s.unstable_now(),typeof D=="function"){C.callback=D,Ut(H),tt=!0;break e}C===i(v)&&a(v),Ut(H)}else a(v);C=i(v)}if(C!==null)tt=!0;else{var X=i(_);X!==null&&ie(vt,X.startTime-H),tt=!1}}break t}finally{C=null,I=lt,j=!1}tt=void 0}}finally{tt?U():Lt=!1}}}var U;if(typeof ft=="function")U=function(){ft(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=M,U=function(){Ne.postMessage(null)}}else U=function(){Et(M,0)};function ie(H,tt){O=Et(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(H){switch(I){case 1:case 2:case 3:var tt=3;break;default:tt=I}var lt=I;I=tt;try{return H()}finally{I=lt}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=I;I=H;try{return tt()}finally{I=lt}},s.unstable_scheduleCallback=function(H,tt,lt){var Pt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Pt+lt:Pt):lt=Pt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,H={id:A++,callback:tt,priorityLevel:H,startTime:lt,expirationTime:D,sortIndex:-1},lt>Pt?(H.sortIndex=lt,e(_,H),i(v)===null&&H===i(_)&&(nt?(gt(O),O=-1):nt=!0,ie(vt,lt-Pt))):(H.sortIndex=D,e(v,H),Z||j||(Z=!0,Lt||(Lt=!0,U()))),H},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(H){var tt=I;return function(){var lt=I;I=tt;try{return H.apply(this,arguments)}finally{I=lt}}}}(Tf)),Tf}var ry;function PE(){return ry||(ry=1,Ef.exports=LE()),Ef.exports}var Af={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function BE(){if(ay)return je;ay=1;var s=ed();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,je.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},je.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},je.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:I,fetchPriority:j}):A==="script"&&a.d.X(v,{crossOrigin:C,integrity:I,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},je.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},je.requestFormReset=function(v){a.d.r(v)},je.unstable_batchedUpdates=function(v,_){return v(_)},je.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var sy;function qE(){if(sy)return Af.exports;sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Af.exports=BE(),Af.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function kE(){if(ly)return Ml;ly=1;var s=PE(),e=ed(),i=qE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case nt:return"StrictMode";case vt:return"Suspense";case Lt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case gt:return(t._context.displayName||"Context")+".Consumer";case Ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Pt=[],D=-1;function X(t){return{current:t}}function et(t){0>D||(t.current=Pt[D],Pt[D]=null,D--)}function J(t,n){D++,Pt[D]=t.current,t.current=n}var ot=X(null),bt=X(null),pt=X(null),be=X(null);function Zt(t,n){switch(J(pt,n),J(bt,t),J(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cp(n),t=Dp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),J(ot,t)}function xn(){et(ot),et(bt),et(pt)}function Ni(t){t.memoizedState!==null&&J(be,t);var n=ot.current,r=Dp(n,t.type);n!==r&&(J(bt,t),J(ot,r))}function ni(t){bt.current===t&&(et(ot),et(bt)),be.current===t&&(et(be),Cl._currentValue=lt)}var Er=Object.prototype.hasOwnProperty,Tr=s.unstable_scheduleCallback,Ar=s.unstable_cancelCallback,bs=s.unstable_shouldYield,iu=s.unstable_requestPaint,dn=s.unstable_now,pc=s.unstable_getCurrentPriorityLevel,Rs=s.unstable_ImmediatePriority,ha=s.unstable_UserBlockingPriority,Sr=s.unstable_NormalPriority,yc=s.unstable_LowPriority,fa=s.unstable_IdlePriority,ws=s.log,ru=s.unstable_setDisableYieldValue,re=null,jt=null;function nn(t){if(typeof ws=="function"&&ru(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var qe=Math.clz32?Math.clz32:br,au=Math.log,_c=Math.LN2;function br(t){return t>>>=0,t===0?32:31-(au(t)/_c|0)|0}var Rr=256,wr=4194304;function wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function da(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=wn(l):(y&=E,y!==0?c=wn(y):r||(r=E&~t,r!==0&&(c=wn(r))))):(E=l&~f,E!==0?c=wn(E):y!==0?c=wn(y):r||(r=l&~t,r!==0&&(c=wn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Cr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Cs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ds(){var t=Rr;return Rr<<=1,(Rr&4194048)===0&&(Rr=256),t}function Vs(){var t=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),t}function ii(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ri(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Is(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-qe(r),Y=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ns(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ma(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Fp(t.type))}function su(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,he="__reactProps$"+Wt,mn="__reactContainer$"+Wt,Os="__reactEvents$"+Wt,vc="__reactListeners$"+Wt,xi="__reactHandles$"+Wt,lu="__reactResources$"+Wt,Dr="__reactMarker$"+Wt;function Ui(t){delete t[_e],delete t[he],delete t[Os],delete t[vc],delete t[xi]}function ai(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Op(t);t!==null;){if(r=t[_e])return r;t=Op(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[_e]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ye(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Dr]=!0}var Ms=new Set,ga={};function Cn(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(ga[t]=n,t=0;t<n.length;t++)Ms.add(n[t])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},Vr={};function cu(t){return Er.call(Vr,t)?!0:Er.call(ou,t)?!1:uu.test(t)?Vr[t]=!0:(ou[t]=!0,!1)}function zi(t,n,r){if(cu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Ir,hu;function li(t){if(Ir===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ir=n&&n[1]||"",hu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+t+hu}var pa=!1;function ya(t,n){if(!t||pa)return"";pa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){B=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{pa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?li(r):""}function xs(t){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return ya(t.type,!1);case 11:return ya(t.type.render,!1);case 1:return ya(t.type,!0);case 31:return li("Activity");default:return""}}function _a(t){try{var n="";do n+=xs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Us(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ec(t){var n=Us(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function va(t){t._valueTracker||(t._valueTracker=Ec(t))}function zs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Us(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tc=/[\n"\\]/g;function fe(t){return t.replace(Tc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Li(t,y,Fe(n)):r!=null?Li(t,y,Fe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function Or(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Fe(r):"",n=n!=null?""+Fe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Li(t,n,r){n==="number"&&Nr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ui(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Fe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Fe(r):""}function Mr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Fe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||xr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ls(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&fu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&fu(t,f,n[f])}function Ps(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ac=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Sc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var oi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function Bs(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&zs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ui(t,!!r.multiple,n,!1)}}}var Bn=!1;function du(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(ci!==null||hi!==null)&&(so(),ci&&(n=ci,t=hi,hi=ci=null,Bs(n),t)))for(n=0;n<t.length;n++)Bs(t[n])}}function Ur(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Dn)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{yn=!1}var qn=null,Pi=null,fi=null;function qs(){if(fi)return fi;var t,n=Pi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return fi=c.slice(t,1<l?1-l:void 0)}function kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function ks(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:ks,this.isPropagationStopped=ks,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Re(qt),Lr=A({},qt,{view:0,detail:0}),mu=Re(Lr),Aa,Sa,Hn,Pr=A({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Aa=t.screenX-Hn.screenX,Sa=t.screenY-Hn.screenY):Sa=Aa=0,Hn=t),Aa)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),_n=Re(Pr),gu=A({},Pr,{dataTransfer:0}),bc=Re(gu),Br=A({},Lr,{relatedTarget:0}),ba=Re(Br),js=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Re(js),pu=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wa=Re(pu),Rc=A({},qt,{data:0}),Hs=Re(Rc),qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_u[t])?!!n[t]:!1}function kr(){return Gs}var vu=A({},Lr,{key:function(t){if(t.key){var n=qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=Re(vu),Eu=A({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=Re(Eu),di=A({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),Tu=Re(di),Au=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=Re(Au),bu=A({},Pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=Re(bu),Ke=A({},qt,{newState:0,oldState:0}),Ru=Re(Ke),wu=[9,13,27,32],Gn=Dn&&"CompositionEvent"in window,o=null;Dn&&"documentMode"in document&&(o=document.documentMode);var m=Dn&&"TextEvent"in window&&!o,p=Dn&&(!Gn||o&&8<o&&11>=o),T=" ",z=!1;function k(t,n){switch(t){case"keyup":return wu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Gn&&k(t,n)?(t=qs(),fi=Pi=qn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function mi(t,n,r,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=fo(n,"onChange"),0<n.length&&(r=new Ta("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Qn=null;function Ys(t){Ap(t,0)}function Cu(t){var n=Ln(t);if(zs(n))return t}function Hd(t,n){if(t==="change")return n}var Gd=!1;if(Dn){var wc;if(Dn){var Cc="oninput"in document;if(!Cc){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Cc=typeof Qd.oninput=="function"}wc=Cc}else wc=!1;Gd=wc&&(!document.documentMode||9<document.documentMode)}function Yd(){Me&&(Me.detachEvent("onpropertychange",Fd),Qn=Me=null)}function Fd(t){if(t.propertyName==="value"&&Cu(Qn)){var n=[];mi(n,Qn,t,pn(t)),du(Ys,n)}}function c0(t,n,r){t==="focusin"?(Yd(),Me=n,Qn=r,Me.attachEvent("onpropertychange",Fd)):t==="focusout"&&Yd()}function h0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Qn)}function f0(t,n){if(t==="click")return Cu(n)}function d0(t,n){if(t==="input"||t==="change")return Cu(n)}function m0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:m0;function Fs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Er.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,n){var r=Kd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Kd(r)}}function Zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $d(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Nr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Nr(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var g0=Dn&&"documentMode"in document&&11>=document.documentMode,Va=null,Vc=null,Ks=null,Ic=!1;function Jd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ic||Va==null||Va!==Nr(l)||(l=Va,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ks&&Fs(Ks,l)||(Ks=l,l=fo(Vc,"onSelect"),0<l.length&&(n=new Ta("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Va)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ia={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Nc={},Wd={};Dn&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Hr(t){if(Nc[t])return Nc[t];if(!Ia[t])return t;var n=Ia[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Wd)return Nc[t]=n[r];return t}var tm=Hr("animationend"),em=Hr("animationiteration"),nm=Hr("animationstart"),p0=Hr("transitionrun"),y0=Hr("transitionstart"),_0=Hr("transitioncancel"),im=Hr("transitionend"),rm=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function Vn(t,n){rm.set(t,n),Cn(n,[t])}var am=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=am.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_a(n)},am.set(t,n),n)}return{value:t,source:n,stack:_a(n)}}var En=[],Na=0,Mc=0;function Du(){for(var t=Na,n=Mc=Na=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&sm(r,c,f)}}function Vu(t,n,r,l){En[Na++]=t,En[Na++]=n,En[Na++]=r,En[Na++]=l,Mc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xc(t,n,r,l){return Vu(t,n,r,l),Iu(t)}function Oa(t,n){return Vu(t,null,null,n),Iu(t)}function sm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Iu(t){if(50<vl)throw vl=0,qh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function v0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new v0(t,n,r,l)}function Uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function lm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Uc(t)&&(y=1);else if(typeof t=="string")y=TE(t,r,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,r,n,c),t.elementType=w,t.lanes=f,t;case Z:return Gr(r.children,c,f,n);case nt:y=8,c|=24;break;case $:return t=sn(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case vt:return t=sn(13,r,n,c),t.elementType=vt,t.lanes=f,t;case Lt:return t=sn(19,r,n,c),t.elementType=Lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:case ft:y=10;break t;case gt:y=9;break t;case Ut:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Gr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function zc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Lc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xa=[],Ua=0,Ou=null,Mu=0,Tn=[],An=0,Qr=null,pi=1,yi="";function Yr(t,n){xa[Ua++]=Mu,xa[Ua++]=Ou,Ou=t,Mu=n}function um(t,n,r){Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Qr,Qr=t;var l=pi;t=yi;var c=32-qe(l)-1;l&=~(1<<c),r+=1;var f=32-qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-qe(n)+c|r<<c|l,yi=f+t}else pi=1<<f|r<<c|l,yi=t}function Pc(t){t.return!==null&&(Yr(t,1),um(t,1,0))}function Bc(t){for(;t===Ou;)Ou=xa[--Ua],xa[Ua]=null,Mu=xa[--Ua],xa[Ua]=null;for(;t===Qr;)Qr=Tn[--An],Tn[An]=null,yi=Tn[--An],Tn[An]=null,pi=Tn[--An],Tn[An]=null}var Xe=null,ae=null,Bt=!1,Fr=null,Yn=!1,qc=Error(a(519));function Kr(t){var n=Error(a(418,""));throw $s(vn(n,t)),qc}function om(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[he]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Tl.length;r++)Ct(Tl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Or(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Mr(n,l.value,l.defaultValue,l.children),va(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||wp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=mo),n=!0):n=!1,n||Kr(t)}function cm(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xe=Xe.return}}function Xs(t){if(t!==Xe)return!1;if(!Bt)return cm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||nf(t.type,t.memoizedProps)),r=!r),r&&ae&&Kr(t),cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Nn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,tr(t.type)?(t=lf,lf=null,ae=t):ae=n):ae=Xe?Nn(t.stateNode.nextSibling):null;return!0}function Zs(){ae=Xe=null,Bt=!1}function hm(){var t=Fr;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Fr=null),t}function $s(t){Fr===null?Fr=[t]:Fr.push(t)}var kc=X(null),Xr=null,_i=null;function Bi(t,n,r){J(kc,n._currentValue),n._currentValue=r}function vi(t){t._currentValue=kc.current,et(kc)}function jc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Hc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),jc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),jc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Js(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}c=c.return}t!==null&&Hc(n,t,r,l),n.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Xr=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return fm(Xr,t)}function Uu(t,n){return Xr===null&&Zr(t),fm(t,n)}function fm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},_i===null){if(t===null)throw Error(a(308));_i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _i=_i.next=n;return r}var E0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},T0=s.unstable_scheduleCallback,A0=s.unstable_NormalPriority,Te={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gc(){return{controller:new E0,data:new Map,refCount:0}}function Ws(t){t.refCount--,t.refCount===0&&T0(A0,function(){t.controller.abort()})}var tl=null,Qc=0,za=0,La=null;function S0(t,n){if(tl===null){var r=tl=[];Qc=0,za=Fh(),La={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Qc++,n.then(dm,dm),n}function dm(){if(--Qc===0&&tl!==null){La!==null&&(La.status="fulfilled");var t=tl;tl=null,za=0,La=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function b0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var mm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&S0(t,n),mm!==null&&mm(t,n)};var $r=X(null);function Yc(){var t=$r.current;return t!==null?t:$t.pooledCache}function zu(t,n){n===null?J($r,$r.current):J($r,n.pool)}function gm(){var t=Yc();return t===null?null:{parent:Te._currentValue,pool:t}}var el=Error(a(460)),pm=Error(a(474)),Lu=Error(a(542)),Fc={then:function(){}};function ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pu(){}function _m(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Pu,Pu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t;default:if(typeof n.status=="string")n.then(Pu,Pu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t}throw nl=n,el}}var nl=null;function vm(){if(nl===null)throw Error(a(459));var t=nl;return nl=null,t}function Em(t){if(t===el||t===Lu)throw Error(a(483))}var qi=!1;function Kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ji(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Iu(t),sm(t,null,r),n}return Vu(t,l,n,r),Iu(t)}function il(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ns(t,r)}}function Zc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var $c=!1;function rl(){if($c){var t=La;if(t!==null)throw t}}function al(t,n,r,l){$c=!1;var c=t.updateQueue;qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Nt&B)===B:(l&B)===B){B!==0&&B===za&&($c=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ct=E;B=n;var Kt=r;switch(ct.tag){case 1:if(mt=ct.payload,typeof mt=="function"){Y=mt.call(Kt,Y,B);break t}Y=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ct.payload,B=typeof mt=="function"?mt.call(Kt,Y,B):mt,B==null)break t;Y=A({},Y,B);break t;case 2:qi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,b=Y):G=G.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=Y}}function Tm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Am(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Tm(r[t],n)}var Pa=X(null),Bu=X(0);function Sm(t,n){t=wi,J(Bu,t),J(Pa,n),wi=t|n.baseLanes}function Jc(){J(Bu,wi),J(Pa,Pa.current)}function Wc(){wi=Bu.current,et(Pa),et(Bu)}var Hi=0,At=null,Yt=null,de=null,qu=!1,Ba=!1,Jr=!1,ku=0,sl=0,qa=null,R0=0;function ue(){throw Error(a(321))}function th(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function eh(t,n,r,l,c,f){return Hi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?sg:lg,Jr=!1,f=r(l,c),Jr=!1,Ba&&(f=Rm(n,r,l,c)),bm(t),f}function bm(t){H.H=Fu;var n=Yt!==null&&Yt.next!==null;if(Hi=0,de=Yt=At=null,qu=!1,sl=0,qa=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&xu(t)&&(Ce=!0))}function Rm(t,n,r,l){At=t;var c=0;do{if(Ba&&(qa=null),sl=0,Ba=!1,25<=c)throw Error(a(301));if(c+=1,de=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=O0,f=n(r,l)}while(Ba);return f}function w0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?ll(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(At.flags|=1024),n}function nh(){var t=ku!==0;return ku=0,t}function ih(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function rh(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}Hi=0,de=Yt=At=null,Ba=!1,sl=ku=0,qa=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?At.memoizedState=de=t:de=de.next=t,de}function me(){if(Yt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=de===null?At.memoizedState:de.next;if(n!==null)de=n,Yt=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},de===null?At.memoizedState=de=t:de=de.next=t}return de}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var n=sl;return sl+=1,qa===null&&(qa=[]),t=_m(qa,t,n),n=At,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?sg:lg),t}function ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ft)return ke(t)}throw Error(a(438,String(t)))}function sh(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ah(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Hu(t){var n=me();return lh(n,Yt,t)}function lh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Nt&Y)===Y:(Hi&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===za&&(G=!0);else if((Hi&B)===B){P=P.next,B===za&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,At.lanes|=B,Zi|=B;Y=P.action,Jr&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,At.lanes|=Y,Zi|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!an(f,t.memoizedState)&&(Ce=!0,G&&(r=La,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function uh(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function wm(t,n,r){var l=At,c=me(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!an((Yt||c).memoizedState,r);y&&(c.memoizedState=r,Ce=!0),c=c.queue;var E=Vm.bind(null,l,c,t);if(ul(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,ka(9,Gu(),Dm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Hi&124)!==0||Cm(l,n,r)}return r}function Cm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=ah(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Dm(t,n,r,l){n.value=r,n.getSnapshot=l,Im(n)&&Nm(t)}function Vm(t,n,r){return r(function(){Im(n)&&Nm(t)})}function Im(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Nm(t){var n=Oa(t,2);n!==null&&hn(n,t,2)}function oh(t){var n=Ze();if(typeof t=="function"){var r=t;if(t=r(),Jr){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Om(t,n,r,l){return t.baseState=r,lh(t,Yt,typeof l=="function"?l:Ei)}function C0(t,n,r,l,c){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Mm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Mm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),xm(t,n,E)}catch(P){ch(t,n,P)}finally{H.T=f}}else try{f=r(c,l),xm(t,n,f)}catch(P){ch(t,n,P)}}function xm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Um(t,n,l)},function(l){return ch(t,n,l)}):Um(t,n,r)}function Um(t,n,r){n.status="fulfilled",n.value=r,zm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Mm(t,r)))}function ch(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,zm(n),n=n.next;while(n!==l)}t.action=null}function zm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lm(t,n){return n}function Pm(t,n){if(Bt){var r=$t.formState;if(r!==null){t:{var l=At;if(Bt){if(ae){e:{for(var c=ae,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Nn(c.nextSibling),l=c.data==="F!";break t}}Kr(l)}l=!1}l&&(n=r[0])}}return r=Ze(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lm,lastRenderedState:n},r.queue=l,r=ig.bind(null,At,l),l.dispatch=r,l=oh(!1),f=gh.bind(null,At,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=C0.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Bm(t){var n=me();return qm(n,Yt,t)}function qm(t,n,r){if(n=lh(t,n,Lm)[0],t=Hu(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ll(n)}catch(y){throw y===el?Lu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,ka(9,Gu(),D0.bind(null,c,r),null)),[l,f,t]}function D0(t,n){t.action=n}function km(t){var n=me(),r=Yt;if(r!==null)return qm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=ah(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Gu(){return{destroy:void 0,resource:void 0}}function jm(){return me().memoizedState}function Qu(t,n,r,l){var c=Ze();l=l===void 0?null:l,At.flags|=t,c.memoizedState=ka(1|n,Gu(),r,l)}function ul(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&th(l,Yt.memoizedState.deps)?c.memoizedState=ka(n,f,r,l):(At.flags|=t,c.memoizedState=ka(1|n,f,r,l))}function Hm(t,n){Qu(8390656,8,t,n)}function Gm(t,n){ul(2048,8,t,n)}function Qm(t,n){return ul(4,2,t,n)}function Ym(t,n){return ul(4,4,t,n)}function Fm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Km(t,n,r){r=r!=null?r.concat([t]):null,ul(4,4,Fm.bind(null,n,t),r)}function hh(){}function Xm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&th(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Zm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&th(n,l[1]))return l[0];if(l=t(),Jr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function fh(t,n,r){return r===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Wg(),At.lanes|=t,Zi|=t,r)}function $m(t,n,r,l){return an(r,n)?r:Pa.current!==null?(t=fh(t,r,l),an(t,n)||(Ce=!0),t):(Hi&42)===0?(Ce=!0,t.memoizedState=r):(t=Wg(),At.lanes|=t,Zi|=t,n)}function Jm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,gh(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=b0(b,l);ol(t,n,G,cn(t))}else ol(t,n,l,cn(t))}catch(Y){ol(t,n,{then:function(){},status:"rejected",reason:Y},cn())}finally{tt.p=f,H.T=y}}function V0(){}function dh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Wm(t).queue;Jm(t,c,n,lt,r===null?V0:function(){return tg(t),r(l)})}function Wm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tg(t){var n=Wm(t).next.queue;ol(t,n,{},cn())}function mh(){return ke(Cl)}function eg(){return me().memoizedState}function ng(){return me().memoizedState}function I0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=ki(r);var l=ji(n,t,r);l!==null&&(hn(l,n,r),il(l,n,r)),n={cache:Gc()},t.payload=n;return}n=n.return}}function N0(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(t)?rg(n,r):(r=xc(t,n,r,l),r!==null&&(hn(r,t,l),ag(r,n,l)))}function ig(t,n,r){var l=cn();ol(t,n,r,l)}function ol(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Vu(t,n,c,0),$t===null&&Du(),!1}catch{}finally{}if(r=xc(t,n,c,l),r!==null)return hn(r,t,l),ag(r,n,l),!0}return!1}function gh(t,n,r,l){if(l={lane:2,revertLane:Fh(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=xc(t,r,l,2),n!==null&&hn(n,t,2)}function Yu(t){var n=t.alternate;return t===At||n!==null&&n===At}function rg(t,n){Ba=qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ag(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ns(t,r)}}var Fu={readContext:ke,use:ju,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},sg={readContext:ke,use:ju,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Hm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qu(4194308,4,Fm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var r=Ze();n=n===void 0?null:n;var l=t();if(Jr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ze();if(r!==void 0){var c=r(n);if(Jr){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=N0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=oh(t);var n=t.queue,r=ig.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:hh,useDeferredValue:function(t,n){var r=Ze();return fh(r,t,n)},useTransition:function(){var t=oh(!1);return t=Jm.bind(null,At,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=Ze();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Nt&124)!==0||Cm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Hm(Vm.bind(null,l,f,t),[t]),l.flags|=2048,ka(9,Gu(),Dm.bind(null,l,f,r,n),null),r},useId:function(){var t=Ze(),n=$t.identifierPrefix;if(Bt){var r=yi,l=pi;r=(l&~(1<<32-qe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=ku++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=R0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:mh,useFormState:Pm,useActionState:Pm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=gh.bind(null,At,!0,r),r.dispatch=n,[t,n]},useMemoCache:sh,useCacheRefresh:function(){return Ze().memoizedState=I0.bind(null,At)}},lg={readContext:ke,use:ju,useCallback:Xm,useContext:ke,useEffect:Gm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:Zm,useReducer:Hu,useRef:jm,useState:function(){return Hu(Ei)},useDebugValue:hh,useDeferredValue:function(t,n){var r=me();return $m(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Hu(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:mh,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,n){var r=me();return Om(r,Yt,t,n)},useMemoCache:sh,useCacheRefresh:ng},O0={readContext:ke,use:ju,useCallback:Xm,useContext:ke,useEffect:Gm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:Zm,useReducer:uh,useRef:jm,useState:function(){return uh(Ei)},useDebugValue:hh,useDeferredValue:function(t,n){var r=me();return Yt===null?fh(r,t,n):$m(r,Yt.memoizedState,t,n)},useTransition:function(){var t=uh(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:mh,useFormState:km,useActionState:km,useOptimistic:function(t,n){var r=me();return Yt!==null?Om(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:sh,useCacheRefresh:ng},ja=null,cl=0;function Ku(t){var n=cl;return cl+=1,ja===null&&(ja=[]),_m(ja,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xu(t,n){throw n.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){var n=t._init;return n(t._payload)}function og(t){function n(x,V){if(t){var L=x.deletions;L===null?(x.deletions=[V],x.flags|=16):L.push(V)}}function r(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=gi(x,V),x.index=0,x.sibling=null,x}function f(x,V,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<V?(x.flags|=67108866,V):L):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,L,Q){return V===null||V.tag!==6?(V=zc(L,x.mode,Q),V.return=x,V):(V=c(V,L),V.return=x,V)}function b(x,V,L,Q){var at=L.type;return at===Z?G(x,V,L.props.children,Q,L.key):V!==null&&(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&ug(at)===V.type)?(V=c(V,L.props),hl(V,L),V.return=x,V):(V=Nu(L.type,L.key,L.props,null,x.mode,Q),hl(V,L),V.return=x,V)}function P(x,V,L,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Lc(L,x.mode,Q),V.return=x,V):(V=c(V,L.children||[]),V.return=x,V)}function G(x,V,L,Q,at){return V===null||V.tag!==7?(V=Gr(L,x.mode,Q,at),V.return=x,V):(V=c(V,L),V.return=x,V)}function Y(x,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=zc(""+V,x.mode,L),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return L=Nu(V.type,V.key,V.props,null,x.mode,L),hl(L,V),L.return=x,L;case j:return V=Lc(V,x.mode,L),V.return=x,V;case S:var Q=V._init;return V=Q(V._payload),Y(x,V,L)}if(ie(V)||U(V))return V=Gr(V,x.mode,L,null),V.return=x,V;if(typeof V.then=="function")return Y(x,Ku(V),L);if(V.$$typeof===ft)return Y(x,Uu(x,V),L);Xu(x,V)}return null}function B(x,V,L,Q){var at=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(x,V,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===at?b(x,V,L,Q):null;case j:return L.key===at?P(x,V,L,Q):null;case S:return at=L._init,L=at(L._payload),B(x,V,L,Q)}if(ie(L)||U(L))return at!==null?null:G(x,V,L,Q,null);if(typeof L.then=="function")return B(x,V,Ku(L),Q);if(L.$$typeof===ft)return B(x,V,Uu(x,L),Q);Xu(x,L)}return null}function q(x,V,L,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(V,x,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return x=x.get(Q.key===null?L:Q.key)||null,b(V,x,Q,at);case j:return x=x.get(Q.key===null?L:Q.key)||null,P(V,x,Q,at);case S:var Rt=Q._init;return Q=Rt(Q._payload),q(x,V,L,Q,at)}if(ie(Q)||U(Q))return x=x.get(L)||null,G(V,x,Q,at,null);if(typeof Q.then=="function")return q(x,V,L,Ku(Q),at);if(Q.$$typeof===ft)return q(x,V,L,Uu(V,Q),at);Xu(V,Q)}return null}function mt(x,V,L,Q){for(var at=null,Rt=null,st=V,ht=V=0,Ve=null;st!==null&&ht<L.length;ht++){st.index>ht?(Ve=st,st=null):Ve=st.sibling;var zt=B(x,st,L[ht],Q);if(zt===null){st===null&&(st=Ve);break}t&&st&&zt.alternate===null&&n(x,st),V=f(zt,V,ht),Rt===null?at=zt:Rt.sibling=zt,Rt=zt,st=Ve}if(ht===L.length)return r(x,st),Bt&&Yr(x,ht),at;if(st===null){for(;ht<L.length;ht++)st=Y(x,L[ht],Q),st!==null&&(V=f(st,V,ht),Rt===null?at=st:Rt.sibling=st,Rt=st);return Bt&&Yr(x,ht),at}for(st=l(st);ht<L.length;ht++)Ve=q(st,x,ht,L[ht],Q),Ve!==null&&(t&&Ve.alternate!==null&&st.delete(Ve.key===null?ht:Ve.key),V=f(Ve,V,ht),Rt===null?at=Ve:Rt.sibling=Ve,Rt=Ve);return t&&st.forEach(function(ar){return n(x,ar)}),Bt&&Yr(x,ht),at}function ct(x,V,L,Q){if(L==null)throw Error(a(151));for(var at=null,Rt=null,st=V,ht=V=0,Ve=null,zt=L.next();st!==null&&!zt.done;ht++,zt=L.next()){st.index>ht?(Ve=st,st=null):Ve=st.sibling;var ar=B(x,st,zt.value,Q);if(ar===null){st===null&&(st=Ve);break}t&&st&&ar.alternate===null&&n(x,st),V=f(ar,V,ht),Rt===null?at=ar:Rt.sibling=ar,Rt=ar,st=Ve}if(zt.done)return r(x,st),Bt&&Yr(x,ht),at;if(st===null){for(;!zt.done;ht++,zt=L.next())zt=Y(x,zt.value,Q),zt!==null&&(V=f(zt,V,ht),Rt===null?at=zt:Rt.sibling=zt,Rt=zt);return Bt&&Yr(x,ht),at}for(st=l(st);!zt.done;ht++,zt=L.next())zt=q(st,x,ht,zt.value,Q),zt!==null&&(t&&zt.alternate!==null&&st.delete(zt.key===null?ht:zt.key),V=f(zt,V,ht),Rt===null?at=zt:Rt.sibling=zt,Rt=zt);return t&&st.forEach(function(ME){return n(x,ME)}),Bt&&Yr(x,ht),at}function Kt(x,V,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:t:{for(var at=L.key;V!==null;){if(V.key===at){if(at=L.type,at===Z){if(V.tag===7){r(x,V.sibling),Q=c(V,L.props.children),Q.return=x,x=Q;break t}}else if(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&ug(at)===V.type){r(x,V.sibling),Q=c(V,L.props),hl(Q,L),Q.return=x,x=Q;break t}r(x,V);break}else n(x,V);V=V.sibling}L.type===Z?(Q=Gr(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Nu(L.type,L.key,L.props,null,x.mode,Q),hl(Q,L),Q.return=x,x=Q)}return y(x);case j:t:{for(at=L.key;V!==null;){if(V.key===at)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){r(x,V.sibling),Q=c(V,L.children||[]),Q.return=x,x=Q;break t}else{r(x,V);break}else n(x,V);V=V.sibling}Q=Lc(L,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return at=L._init,L=at(L._payload),Kt(x,V,L,Q)}if(ie(L))return mt(x,V,L,Q);if(U(L)){if(at=U(L),typeof at!="function")throw Error(a(150));return L=at.call(L),ct(x,V,L,Q)}if(typeof L.then=="function")return Kt(x,V,Ku(L),Q);if(L.$$typeof===ft)return Kt(x,V,Uu(x,L),Q);Xu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(r(x,V.sibling),Q=c(V,L),Q.return=x,x=Q):(r(x,V),Q=zc(L,x.mode,Q),Q.return=x,x=Q),y(x)):r(x,V)}return function(x,V,L,Q){try{cl=0;var at=Kt(x,V,L,Q);return ja=null,at}catch(st){if(st===el||st===Lu)throw st;var Rt=sn(29,st,null,x.mode);return Rt.lanes=Q,Rt.return=x,Rt}finally{}}}var Ha=og(!0),cg=og(!1),Sn=X(null),Fn=null;function Gi(t){var n=t.alternate;J(Ae,Ae.current&1),J(Sn,t),Fn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Fn=t)}function hg(t){if(t.tag===22){if(J(Ae,Ae.current),J(Sn,t),Fn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Fn=t)}}else Qi()}function Qi(){J(Ae,Ae.current),J(Sn,Sn.current)}function Ti(t){et(Sn),Fn===t&&(Fn=null),et(Ae)}var Ae=X(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||sf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ph(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var yh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ki(l);c.payload=n,r!=null&&(c.callback=r),n=ji(t,c,l),n!==null&&(hn(n,t,l),il(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ki(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ji(t,c,l),n!==null&&(hn(n,t,l),il(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=ki(r);l.tag=2,n!=null&&(l.callback=n),n=ji(t,l,r),n!==null&&(hn(n,t,r),il(n,t,r))}};function fg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Fs(r,l)||!Fs(c,f):!0}function dg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&yh.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function mg(t){$u(t)}function gg(t){console.error(t)}function pg(t){$u(t)}function Ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function yg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function _h(t,n,r){return r=ki(r),r.tag=3,r.payload={element:null},r.callback=function(){Ju(t,n)},r}function _g(t){return t=ki(t),t.tag=3,t}function vg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){yg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){yg(n,r,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function M0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Js(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Fn===null?jh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Fc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Gh(t,l,c)),!1;case 22:return r.flags|=65536,l===Fc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Gh(t,l,c)),!1}throw Error(a(435,r.tag))}return Gh(t,l,c),jh(),!1}if(Bt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==qc&&(t=Error(a(422),{cause:l}),$s(vn(t,r)))):(l!==qc&&(n=Error(a(423),{cause:l}),$s(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=_h(t.stateNode,l,c),Zc(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=vn(f,r),_l===null?_l=[f]:_l.push(f),se!==4&&(se=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=_h(r.stateNode,l,t),Zc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=_g(c),vg(c,t,r,l),Zc(r,c),!1}r=r.return}while(r!==null);return!1}var Eg=Error(a(461)),Ce=!1;function xe(t,n,r,l){n.child=t===null?cg(n,null,r,l):Ha(n,t.child,r,l)}function Tg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Zr(n),l=eh(t,n,r,y,f,c),E=nh(),t!==null&&!Ce?(ih(t,n,c),Ai(t,n,c)):(Bt&&E&&Pc(n),n.flags|=1,xe(t,n,l,c),n.child)}function Ag(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Uc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Sg(t,n,f,l,c)):(t=Nu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!wh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Fs,r(y,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Sg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Fs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,wh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return vh(t,n,r,l,c)}function bg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Rg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?Sm(n,f):Jc(),hg(n);else return n.lanes=n.childLanes=536870912,Rg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(zu(n,f.cachePool),Sm(n,f),Qi(),n.memoizedState=null):(t!==null&&zu(n,null),Jc(),Qi());return xe(t,n,c,r),n.child}function Rg(t,n,r,l){var c=Yc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&zu(n,null),Jc(),hg(n),t!==null&&Js(t,n,l,!0),null}function Wu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function vh(t,n,r,l,c){return Zr(n),r=eh(t,n,r,l,void 0,c),l=nh(),t!==null&&!Ce?(ih(t,n,c),Ai(t,n,c)):(Bt&&l&&Pc(n),n.flags|=1,xe(t,n,r,c),n.child)}function wg(t,n,r,l,c,f){return Zr(n),n.updateQueue=null,r=Rm(n,l,r,c),bm(t),l=nh(),t!==null&&!Ce?(ih(t,n,f),Ai(t,n,f)):(Bt&&l&&Pc(n),n.flags|=1,xe(t,n,r,f),n.child)}function Cg(t,n,r,l,c){if(Zr(n),n.stateNode===null){var f=Ma,y=r.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Kc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?ke(y):Ma,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(ph(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&yh.enqueueReplaceState(f,f.state,null),al(n,l,f,c),rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Wr(r,E);f.props=b;var P=f.context,G=r.contextType;y=Ma,typeof G=="object"&&G!==null&&(y=ke(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&dg(n,f,l,y),qi=!1;var B=n.memoizedState;f.state=B,al(n,l,f,c),rl(),P=n.memoizedState,E||B!==P||qi?(typeof Y=="function"&&(ph(n,r,Y,l),P=n.memoizedState),(b=qi||fg(n,r,b,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Xc(t,n),y=n.memoizedProps,G=Wr(r,y),f.props=G,Y=n.pendingProps,B=f.context,P=r.contextType,b=Ma,typeof P=="object"&&P!==null&&(b=ke(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==b)&&dg(n,f,l,b),qi=!1,B=n.memoizedState,f.state=B,al(n,l,f,c),rl();var q=n.memoizedState;y!==Y||B!==q||qi||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof E=="function"&&(ph(n,r,E,l),q=n.memoizedState),(G=qi||fg(n,r,G,l,B,q,b)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ha(n,t.child,null,c),n.child=Ha(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function Dg(t,n,r,l){return Zs(),n.flags|=256,xe(t,n,r,l),n.child}var Eh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Th(t){return{baseLanes:t,cachePool:gm()}}function Ah(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function Vg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Gi(n):Qi(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Nn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Qr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Xe=n,ae=null,b=!0):b=!1}b||Kr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return sf(E)?n.lanes=32:n.lanes=536870912,null;Ti(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=to({mode:"hidden",children:E},c),l=Gr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Th(r),c.childLanes=Ah(t,y,r),n.memoizedState=Eh,l):(Gi(n),Sh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Gi(n),n.flags&=-257,n=bh(t,n,r)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=to({mode:"visible",children:l.children},E),c=Gr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ha(n,t.child,null,r),l=n.child,l.memoizedState=Th(r),l.childLanes=Ah(t,y,r),n.memoizedState=Eh,n=c);else if(Gi(n),sf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,$s({value:l,source:null,stack:null}),n=bh(t,n,r)}else if(Ce||Js(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Oi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Oa(t,l),hn(y,t,l),Eg;E.data==="$?"||jh(),n=bh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=Nn(E.nextSibling),Xe=n,Bt=!0,Fr=null,Yn=!1,t!==null&&(Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Qr,pi=t.id,yi=t.overflow,Qr=n),n=Sh(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=gi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=gi(P,c):(c=Gr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Th(r):(b=E.cachePool,b!==null?(P=Te._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=gm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Ah(t,y,r),n.memoizedState=Eh,l):(Gi(n),r=t.child,t=r.sibling,r=gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Sh(t,n){return n=to({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function to(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bh(t,n,r){return Ha(n,t.child,null,r),t=Sh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ig(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),jc(t.return,n,r)}function Rh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Ng(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ig(t,r,n);else if(t.tag===19)Ig(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Zu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Rh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Zu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Rh(n,!0,r,null,f);break;case"together":Rh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Js(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function wh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function x0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Bi(n,Te,t.memoizedState.cache),Zs();break;case 27:case 5:Ni(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Bi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Vg(t,n,r):(Gi(n),t=Ai(t,n,r),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Js(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Ng(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,bg(t,n,r);case 24:Bi(n,Te,t.memoizedState.cache)}return Ai(t,n,r)}function Og(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!wh(t,r)&&(n.flags&128)===0)return Ce=!1,x0(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&um(n,Mu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Uc(l)?(t=Wr(l,t),n.tag=1,n=Cg(null,n,l,t,r)):(n.tag=0,n=vh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Ut){n.tag=11,n=Tg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=Ag(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(a(306,n,""))}}return n;case 0:return vh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Wr(l,n.pendingProps),Cg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Xc(t,n),al(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Bi(n,Te,l),l!==f.cache&&Hc(n,[Te],r,!0),rl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Dg(t,n,l,r);break t}else if(l!==c){c=vn(Error(a(424)),n),$s(c),n=Dg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Nn(t.firstChild),Xe=n,Bt=!0,Fr=null,Yn=!0,r=cg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Zs(),l===c){n=Ai(t,n,r);break t}xe(t,n,l,r)}n=n.child}return n;case 26:return Wu(t,n),t===null?(r=zp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=go(pt.current).createElement(r),l[_e]=n,l[he]=t,ze(l,r,t),le(l),n.stateNode=l):n.memoizedState=zp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ni(n),t===null&&Bt&&(l=n.stateNode=Mp(n.type,n.pendingProps,pt.current),Xe=n,Yn=!0,c=ae,tr(n.type)?(lf=c,ae=Nn(l.firstChild)):ae=c),xe(t,n,n.pendingProps.children,r),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ae)&&(l=uE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Xe=n,ae=Nn(l.firstChild),Yn=!1,c=!0):c=!1),c||Kr(n)),Ni(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,nf(c,f)?l=null:y!==null&&nf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=eh(t,n,w0,null,null,r),Cl._currentValue=c),Wu(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=ae)&&(r=oE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Xe=n,ae=null,t=!0):t=!1),t||Kr(n)),null;case 13:return Vg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ha(n,null,l,r):xe(t,n,l,r),n.child;case 11:return Tg(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Bi(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Zr(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return Ag(t,n,n.type,n.pendingProps,r);case 15:return Sg(t,n,n.type,n.pendingProps,r);case 19:return Ng(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=to(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=gi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return bg(t,n,r);case 24:return Zr(n),l=ke(Te),t===null?(c=Yc(),c===null&&(c=$t,f=Gc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Kc(n),Bi(n,Te,c)):((t.lanes&r)!==0&&(Xc(t,n),al(n,null,null,r),rl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Bi(n,Te,l)):(l=f.cache,Bi(n,Te,l),l!==c.cache&&Hc(n,[Te],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Si(t){t.flags|=4}function Mg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kp(n)){if(n=Sn.current,n!==null&&((Nt&4194048)===Nt?Fn!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||n!==Fn))throw nl=Fc,pm;t.flags|=8192}}function eo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Vs():536870912,t.lanes|=n,Fa|=n)}function fl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function U0(t,n,r){var l=n.pendingProps;switch(Bc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(Te),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xs(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Si(n),r!==null?(ee(n),Mg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Si(n),ee(n),Mg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ee(n),n.flags&=-16777217),null;case 27:ni(n),r=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=ot.current,Xs(n)?om(n):(t=Mp(c,l,r),n.stateNode=t,Si(n))}return ee(n),null;case 5:if(ni(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=ot.current,Xs(n))om(n);else{switch(c=go(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=pt.current,Xs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||wp(t.nodeValue,r)),t||Kr(n)}else t=go(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else Zs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=hm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),eo(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&$h(n.stateNode.containerInfo),ee(n),null;case 10:return vi(n.type),ee(n),null;case 19:if(et(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)fl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,fl(c,!1),t=f.updateQueue,n.updateQueue=t,eo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)lm(r,t),r=r.sibling;return J(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>ro&&(n.flags|=128,l=!0,fl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Zu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,eo(n,t),fl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ee(n),null}else 2*dn()-c.renderingStartTime>ro&&r!==536870912&&(n.flags|=128,l=!0,fl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Ae.current,J(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ti(n),Wc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&eo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et($r),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),vi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function z0(t,n){switch(Bc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(Te),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ni(n),null;case 13:if(Ti(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ae),null;case 4:return xn(),null;case 10:return vi(n.type),null;case 22:case 23:return Ti(n),Wc(),t!==null&&et($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(Te),null;case 25:return null;default:return null}}function xg(t,n){switch(Bc(n),n.tag){case 3:vi(Te),xn();break;case 26:case 27:case 5:ni(n);break;case 4:xn();break;case 13:Ti(n);break;case 19:et(Ae);break;case 10:vi(n.type);break;case 22:case 23:Ti(n),Wc(),t!==null&&et($r);break;case 24:vi(Te)}}function dl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Yi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function Ug(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Am(n,r)}catch(l){Xt(t,t.return,l)}}}function zg(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function ml(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Lg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Ch(t,n,r){try{var l=t.stateNode;iE(l,t.type,r,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function Pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=mo));else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Vh(t,n,r),t=t.sibling;t!==null;)Vh(t,n,r),t=t.sibling}function no(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(no(t,n,r),t=t.sibling;t!==null;)no(t,n,r),t=t.sibling}function Bg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[_e]=t,n[he]=r}catch(f){Xt(t,t.return,f)}}var bi=!1,oe=!1,Ih=!1,qg=typeof WeakSet=="function"?WeakSet:Set,De=null;function L0(t,n){if(t=t.containerInfo,tf=To,t=$d(t),Dc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,G=0,Y=t,B=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++G===l&&(b=y),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(ef={focusedElem:t,selectionRange:r},To=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var mt=Wr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Xt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)af(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function kg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(t,r),l&4&&dl(5,r);break;case 1:if(Fi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Ug(r),l&512&&ml(r,r.return);break;case 3:if(Fi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Am(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Bg(r);case 26:case 5:Fi(t,r),n===null&&l&4&&Lg(r),l&512&&ml(r,r.return);break;case 12:Fi(t,r);break;case 13:Fi(t,r),l&4&&Gg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Y0.bind(null,r),cE(t,r))));break;case 22:if(l=r.memoizedState!==null||bi,!l){n=n!==null&&n.memoizedState!==null||oe,c=bi;var f=oe;bi=l,(oe=n)&&!f?Ki(t,r,(r.subtreeFlags&8772)!==0):Fi(t,r),bi=c,oe=f}break;case 30:break;default:Fi(t,r)}}function jg(t){var n=t.alternate;n!==null&&(t.alternate=null,jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,$e=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Hg(t,n,r),r=r.sibling}function Hg(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:oe||Kn(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Kn(r,n);var l=te,c=$e;tr(r.type)&&(te=r.stateNode,$e=!1),Ri(t,n,r),Sl(r.stateNode),te=l,$e=c;break;case 5:oe||Kn(r,n);case 6:if(l=te,c=$e,te=null,Ri(t,n,r),te=l,$e=c,te!==null)if($e)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&($e?(t=te,Np(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Nl(t)):Np(te,r.stateNode));break;case 4:l=te,c=$e,te=r.stateNode.containerInfo,$e=!0,Ri(t,n,r),te=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Yi(2,r,n),oe||Yi(4,r,n),Ri(t,n,r);break;case 1:oe||(Kn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&zg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,Ri(t,n,r),oe=l;break;default:Ri(t,n,r)}}function Gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(r){Xt(n,n.return,r)}}function P0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new qg),n;default:throw Error(a(435,t.tag))}}function Nh(t,n){var r=P0(t);n.forEach(function(l){var c=F0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(tr(E.type)){te=E.stateNode,$e=!1;break t}break;case 5:te=E.stateNode,$e=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(te===null)throw Error(a(160));Hg(f,y,c),te=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var In=null;function Qg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(Yi(3,t,t.return),dl(3,t),Yi(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(oe||r===null||Kn(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(ln(n,t),un(t),l&512&&(oe||r===null||Kn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Dr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[_e]=t,le(f),l=f;break t;case"link":var y=Bp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Bp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,le(f),l=f}t.stateNode=l}else qp(c,t.type,t.stateNode);else t.stateNode=Pp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?qp(c,t.type,t.stateNode):Pp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ch(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(oe||r===null||Kn(r,r.return)),r!==null&&l&4&&Ch(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(oe||r===null||Kn(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ch(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ih=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(_o=null,c=In,In=po(n.containerInfo),ln(n,t),In=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Nl(n.containerInfo)}catch(q){Xt(t,t.return,q)}Ih&&(Ih=!1,Yg(t));break;case 4:l=In,In=po(t.stateNode.containerInfo),ln(n,t),un(t),In=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Lh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=bi,G=oe;if(bi=P||c,oe=G||b,ln(n,t),oe=G,bi=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||bi||oe||ta(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Xt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Xt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Nh(t,r))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Pg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Dh(t);no(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=Dh(t);no(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Dh(t);Vh(t,P,b);break;default:throw Error(a(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Yg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Yg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kg(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),ta(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&zg(n,n.return,r),ta(n);break;case 27:Sl(n.stateNode);case 26:case 5:Kn(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function Ki(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(c,f,r),dl(4,f);break;case 1:if(Ki(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Tm(b[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&Ug(f),ml(f,f.return);break;case 27:Bg(f);case 26:case 5:Ki(c,f,r),r&&l===null&&y&4&&Lg(f),ml(f,f.return);break;case 12:Ki(c,f,r);break;case 13:Ki(c,f,r),r&&y&4&&Gg(c,f);break;case 22:f.memoizedState===null&&Ki(c,f,r),ml(f,f.return);break;case 30:break;default:Ki(c,f,r)}n=n.sibling}}function Oh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ws(r))}function Mh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fg(t,n,r,l),n=n.sibling}function Fg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&dl(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):gl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Ga(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Oh(y,n);break;case 24:Xn(t,n,r,l),c&2048&&Mh(n.alternate,n);break;default:Xn(t,n,r,l)}}function Ga(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ga(f,y,E,b,c),dl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ga(f,y,E,b,c):gl(f,y):(G._visibility|=2,Ga(f,y,E,b,c)),c&&P&2048&&Oh(y.alternate,y);break;case 24:Ga(f,y,E,b,c),c&&P&2048&&Mh(y.alternate,y);break;default:Ga(f,y,E,b,c)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:gl(r,l),c&2048&&Oh(l.alternate,l);break;case 24:gl(r,l),c&2048&&Mh(l.alternate,l);break;default:gl(r,l)}n=n.sibling}}var pl=8192;function Qa(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 26:Qa(t),t.flags&pl&&t.memoizedState!==null&&SE(In,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var n=In;In=po(t.stateNode.containerInfo),Qa(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=pl,pl=16777216,Qa(t),pl=n):Qa(t));break;default:Qa(t)}}function Xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,$g(l,t)}Xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,io(t)):yl(t);break;default:yl(t)}}function io(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,$g(l,t)}Xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),io(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,io(n));break;default:io(n)}t=t.sibling}}function $g(t,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:Yi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ws(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,De=l;else t:for(r=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(jg(l),l===r){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var B0={getCacheForType:function(t){var n=ke(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},q0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,wt=null,Nt=0,Gt=0,on=null,Xi=!1,Ya=!1,xh=!1,wi=0,se=0,Zi=0,ea=0,Uh=0,bn=0,Fa=0,_l=null,Je=null,zh=!1,Lh=0,ro=1/0,ao=null,$i=null,Ue=0,Ji=null,Ka=null,Xa=0,Ph=0,Bh=null,Jg=null,vl=0,qh=null;function cn(){if((Ht&2)!==0&&Nt!==0)return Nt&-Nt;if(H.T!==null){var t=za;return t!==0?t:Fh()}return Mi()}function Wg(){bn===0&&(bn=(Nt&536870912)===0||Bt?Ds():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function hn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Za(t,0),Wi(t,Nt,bn,!1)),ri(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(ea|=r),se===4&&Wi(t,Nt,bn,!1)),Zn(t))}function tp(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Cr(t,n),c=l?H0(t,n):Hh(t,n,!0),f=l;do{if(c===0){Ya&&!l&&Wi(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!k0(r)){c=Hh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=_l;var b=E.current.memoizedState.isDehydrated;if(b&&(Za(E,y).flags|=256),y=Hh(E,y,!1),y!==2){if(xh&&!b){E.errorRecoveryDisabledLanes|=f,ea|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Za(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,bn,!Xi);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Lh+300-dn(),10<c)){if(Wi(l,n,bn,!Xi),da(l,0,!0)!==0)break t;l.timeoutHandle=Vp(ep.bind(null,l,r,Je,ao,zh,n,bn,ea,Fa,Xi,f,2,-0,0),c);break t}ep(l,r,Je,ao,zh,n,bn,ea,Fa,Xi,f,0,-0,0)}}break}while(!0);Zn(t)}function ep(t,n,r,l,c,f,y,E,b,P,G,Y,B,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:AE},Kg(n),Y=bE(),Y!==null)){t.cancelPendingCommit=Y(up.bind(null,t,n,f,r,l,c,y,E,b,G,1,B,q)),Wi(t,f,y,!P);return}up(t,n,f,r,l,c,y,E,b)}function k0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,r,l){n&=~Uh,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Un(t,r,n)}function so(){return(Ht&6)===0?(El(0),!1):!0}function kh(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,_i=Xr=null,rh(t),ja=null,cl=0,t=wt;for(;t!==null;)xg(t.alternate,t),t=t.return;wt=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,aE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),kh(),$t=t,wt=r=gi(t.current,null),Nt=n,Gt=0,on=null,Xi=!1,Ya=Cr(t,n),xh=!1,Fa=bn=Uh=ea=Zi=se=0,Je=_l=null,zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return wi=n,Du(),r}function np(t,n){At=null,H.H=Fu,n===el||n===Lu?(n=vm(),Gt=3):n===pm?(n=vm(),Gt=4):Gt=n===Eg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,wt===null&&(se=1,Ju(t,vn(n,t.current)))}function ip(){var t=H.H;return H.H=Fu,t===null?Fu:t}function rp(){var t=H.A;return H.A=B0,t}function jh(){se=4,Xi||(Nt&4194048)!==Nt&&Sn.current!==null||(Ya=!0),(Zi&134217727)===0&&(ea&134217727)===0||$t===null||Wi($t,Nt,bn,!1)}function Hh(t,n,r){var l=Ht;Ht|=2;var c=ip(),f=rp();($t!==t||Nt!==n)&&(ao=null,Za(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&wt!==null){var E=wt,b=on;switch(Gt){case 8:kh(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var P=Gt;if(Gt=0,on=null,$a(t,E,b,P),r&&Ya){y=0;break t}break;default:P=Gt,Gt=0,on=null,$a(t,E,b,P)}}j0(),y=se;break}catch(G){np(t,G)}while(!0);return n&&t.shellSuspendCounter++,_i=Xr=null,Ht=l,H.H=c,H.A=f,wt===null&&($t=null,Nt=0,Du()),y}function j0(){for(;wt!==null;)ap(wt)}function H0(t,n){var r=Ht;Ht|=2;var l=ip(),c=rp();$t!==t||Nt!==n?(ao=null,ro=dn()+500,Za(t,n)):Ya=Cr(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=on;e:switch(Gt){case 1:Gt=0,on=null,$a(t,n,f,1);break;case 2:case 9:if(ym(f)){Gt=0,on=null,sp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:ym(f)?(Gt=0,on=null,sp(n)):(Gt=0,on=null,$a(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||kp(y)){Gt=0,on=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,lo(P)):wt=null}break e}}Gt=0,on=null,$a(t,n,f,5);break;case 6:Gt=0,on=null,$a(t,n,f,6);break;case 8:kh(),se=6;break t;default:throw Error(a(462))}}G0();break}catch(G){np(t,G)}while(!0);return _i=Xr=null,H.H=l,H.A=c,Ht=r,wt!==null?0:($t=null,Nt=0,Du(),se)}function G0(){for(;wt!==null&&!bs();)ap(wt)}function ap(t){var n=Og(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?lo(t):wt=n}function sp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=wg(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=wg(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:rh(n);default:xg(r,n),n=wt=lm(n,wi),n=Og(r,n,wi)}t.memoizedProps=t.pendingProps,n===null?lo(t):wt=n}function $a(t,n,r,l){_i=Xr=null,rh(n),ja=null,cl=0;var c=n.return;try{if(M0(t,c,n,r,Nt)){se=1,Ju(t,vn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;se=1,Ju(t,vn(r,t.current)),wt=null;return}n.flags&32768?(Bt||l===1?t=!0:Ya||(Nt&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lp(n,t)):lo(n)}function lo(t){var n=t;do{if((n.flags&32768)!==0){lp(n,Xi);return}t=n.return;var r=U0(n.alternate,n,wi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);se===0&&(se=5)}function lp(t,n){do{var r=z0(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);se=6,wt=null}function up(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do uo();while(Ue!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Mc,Is(t,r,f,y,E,b),t===$t&&(wt=$t=null,Nt=0),Ka=n,Ji=t,Xa=r,Ph=f,Bh=c,Jg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,K0(Sr,function(){return dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{L0(t,n,r)}finally{Ht=y,tt.p=c,H.T=l}}Ue=1,op(),cp(),hp()}}function op(){if(Ue===1){Ue=0;var t=Ji,n=Ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Qg(n,t);var f=ef,y=$d(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Zd(E.ownerDocument.documentElement,E)){if(b!==null&&Dc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),mt=E.textContent.length,ct=Math.min(b.start,mt),Kt=b.end===void 0?ct:Math.min(b.end,mt);!q.extend&&ct>Kt&&(y=Kt,Kt=ct,ct=y);var x=Xd(E,ct),V=Xd(E,Kt);if(x&&V&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),ct>Kt?(q.addRange(L),q.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}To=!!tf,ef=tf=null}finally{Ht=c,tt.p=l,H.T=r}}t.current=n,Ue=2}}function cp(){if(Ue===2){Ue=0;var t=Ji,n=Ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{kg(t,n.alternate,n)}finally{Ht=c,tt.p=l,H.T=r}}Ue=3}}function hp(){if(Ue===4||Ue===3){Ue=0,iu();var t=Ji,n=Ka,r=Xa,l=Jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ka=Ji=null,fp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),ma(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(Xa&3)!==0&&uo(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===qh?vl++:(vl=0,qh=t):vl=0,El(0)}}function fp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ws(n)))}function uo(t){return op(),cp(),hp(),dp()}function dp(){if(Ue!==5)return!1;var t=Ji,n=Ph;Ph=0;var r=ma(Xa),l=H.T,c=tt.p;try{tt.p=32>r?32:r,H.T=null,r=Bh,Bh=null;var f=Ji,y=Xa;if(Ue=0,Ka=Ji=null,Xa=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Zg(f.current),Fg(f,f.current,y,r),Ht=E,El(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=c,H.T=l,fp(t,n)}}function mp(t,n,r){n=vn(r,n),n=_h(t.stateNode,n,2),t=ji(t,n,2),t!==null&&(ri(t,2),Zn(t))}function Xt(t,n,r){if(t.tag===3)mp(t,t,r);else for(;n!==null;){if(n.tag===3){mp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=vn(r,t),r=_g(2),l=ji(n,r,2),l!==null&&(vg(r,l,n,t),ri(l,2),Zn(l));break}}n=n.return}}function Gh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new q0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(xh=!0,c.add(r),t=Q0.bind(null,t,n,r),n.then(t,t))}function Q0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Nt&r)===r&&(se===4||se===3&&(Nt&62914560)===Nt&&300>dn()-Lh?(Ht&2)===0&&Za(t,0):Uh|=r,Fa===Nt&&(Fa=0)),Zn(t)}function gp(t,n){n===0&&(n=Vs()),t=Oa(t,n),t!==null&&(ri(t,n),Zn(t))}function Y0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),gp(t,r)}function F0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),gp(t,r)}function K0(t,n){return Tr(t,n)}var oo=null,Ja=null,Qh=!1,co=!1,Yh=!1,na=0;function Zn(t){t!==Ja&&t.next===null&&(Ja===null?oo=Ja=t:Ja=Ja.next=t),co=!0,Qh||(Qh=!0,Z0())}function El(t,n){if(!Yh&&co){Yh=!0;do for(var r=!1,l=oo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,vp(l,f))}else f=Nt,f=da(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Cr(l,f)||(r=!0,vp(l,f));l=l.next}while(r);Yh=!1}}function X0(){pp()}function pp(){co=Qh=!1;var t=0;na!==0&&(rE()&&(t=na),na=0);for(var n=dn(),r=null,l=oo;l!==null;){var c=l.next,f=yp(l,n);f===0?(l.next=null,r===null?oo=c:r.next=c,c===null&&(Ja=r)):(r=l,(t!==0||(f&3)!==0)&&(co=!0)),l=c}El(t)}function yp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-qe(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Cs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Nt,r=da(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ar(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Cr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ar(l),ma(r)){case 2:case 8:r=ha;break;case 32:r=Sr;break;case 268435456:r=fa;break;default:r=Sr}return l=_p.bind(null,t),r=Tr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ar(l),t.callbackPriority=2,t.callbackNode=null,2}function _p(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uo()&&t.callbackNode!==r)return null;var l=Nt;return l=da(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tp(t,l,n),yp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?_p.bind(null,t):null)}function vp(t,n){if(uo())return null;tp(t,n,!0)}function Z0(){sE(function(){(Ht&6)!==0?Tr(Rs,X0):pp()})}function Fh(){return na===0&&(na=Ds()),na}function Ep(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function Tp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Ep((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?Ep(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ta("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var b=y?Tp(c,y):new FormData(c);dh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Tp(c,y):new FormData(c),dh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Kh=0;Kh<Oc.length;Kh++){var Xh=Oc[Kh],J0=Xh.toLowerCase(),W0=Xh[0].toUpperCase()+Xh.slice(1);Vn(J0,"on"+W0)}Vn(tm,"onAnimationEnd"),Vn(em,"onAnimationIteration"),Vn(nm,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(p0,"onTransitionRun"),Vn(y0,"onTransitionStart"),Vn(_0,"onTransitionCancel"),Vn(im,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Ap(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){$u(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){$u(G)}c.currentTarget=null,f=b}}}}function Ct(t,n){var r=n[Os];r===void 0&&(r=n[Os]=new Set);var l=t+"__bubble";r.has(l)||(Sp(n,t,2,!1),r.add(l))}function Zh(t,n,r){var l=0;n&&(l|=4),Sp(r,t,l,n)}var ho="_reactListening"+Math.random().toString(36).slice(2);function $h(t){if(!t[ho]){t[ho]=!0,Ms.forEach(function(r){r!=="selectionchange"&&(tE.has(r)||Zh(r,!1,t),Zh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ho]||(n[ho]=!0,Zh("selectionchange",!1,n))}}function Sp(t,n,r,l){switch(Fp(n)){case 2:var c=CE;break;case 8:c=DE;break;default:c=ff}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Jh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ai(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}du(function(){var P=f,G=pn(r),Y=[];t:{var B=rm.get(t);if(B!==void 0){var q=Ta,mt=t;switch(t){case"keypress":if(kn(r)===0)break t;case"keydown":case"keyup":q=Ca;break;case"focusin":mt="focus",q=ba;break;case"focusout":mt="blur",q=ba;break;case"beforeblur":case"afterblur":q=ba;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Tu;break;case tm:case em:case nm:q=Ra;break;case im:q=Su;break;case"scroll":case"scrollend":q=mu;break;case"wheel":q=Da;break;case"copy":case"cut":case"paste":q=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qs;break;case"toggle":case"beforetoggle":q=Ru}var ct=(n&4)!==0,Kt=!ct&&(t==="scroll"||t==="scrollend"),x=ct?B!==null?B+"Capture":null:B;ct=[];for(var V=P,L;V!==null;){var Q=V;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=Ur(V,x),Q!=null&&ct.push(Al(V,Q,L))),Kt)break;V=V.return}0<ct.length&&(B=new q(B,mt,null,r,G),Y.push({event:B,listeners:ct}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==oi&&(mt=r.relatedTarget||r.fromElement)&&(ai(mt)||mt[mn]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(mt=r.relatedTarget||r.toElement,q=P,mt=mt?ai(mt):null,mt!==null&&(Kt=h(mt),ct=mt.tag,mt!==Kt||ct!==5&&ct!==27&&ct!==6)&&(mt=null)):(q=null,mt=P),q!==mt)){if(ct=_n,Q="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Qs,Q="onPointerLeave",x="onPointerEnter",V="pointer"),Kt=q==null?B:Ln(q),L=mt==null?B:Ln(mt),B=new ct(Q,V+"leave",q,r,G),B.target=Kt,B.relatedTarget=L,Q=null,ai(G)===P&&(ct=new ct(x,V+"enter",mt,r,G),ct.target=L,ct.relatedTarget=Kt,Q=ct),Kt=Q,q&&mt)e:{for(ct=q,x=mt,V=0,L=ct;L;L=Wa(L))V++;for(L=0,Q=x;Q;Q=Wa(Q))L++;for(;0<V-L;)ct=Wa(ct),V--;for(;0<L-V;)x=Wa(x),L--;for(;V--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=Wa(ct),x=Wa(x)}ct=null}else ct=null;q!==null&&bp(Y,B,q,ct,!1),mt!==null&&Kt!==null&&bp(Y,Kt,mt,ct,!0)}}t:{if(B=P?Ln(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var at=Hd;else if(Ee(B))if(Gd)at=d0;else{at=h0;var Rt=c0}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ps(P.elementType)&&(at=Hd):at=f0;if(at&&(at=at(t,P))){mi(Y,at,r,G);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Li(B,"number",B.value)}switch(Rt=P?Ln(P):window,t){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(Va=Rt,Vc=P,Ks=null);break;case"focusout":Ks=Vc=Va=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Jd(Y,r,G);break;case"selectionchange":if(g0)break;case"keydown":case"keyup":Jd(Y,r,G)}var st;if(Gn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?k(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(p&&r.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(st=qs()):(qn=G,Pi="value"in qn?qn.value:qn.textContent,Vt=!0)),Rt=fo(P,ht),0<Rt.length&&(ht=new Hs(ht,t,null,r,G),Y.push({event:ht,listeners:Rt}),st?ht.data=st:(st=W(r),st!==null&&(ht.data=st)))),(st=m?ve(t,r):It(t,r))&&(ht=fo(P,"onBeforeInput"),0<ht.length&&(Rt=new Hs("onBeforeInput","beforeinput",null,r,G),Y.push({event:Rt,listeners:ht}),Rt.data=st)),$0(Y,t,P,r,G)}Ap(Y,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function fo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ur(t,r),c!=null&&l.unshift(Al(t,c,f)),c=Ur(t,n),c!=null&&l.push(Al(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Ur(r,f),P!=null&&y.unshift(Al(r,P,b))):c||(P=Ur(r,f),P!=null&&y.push(Al(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var eE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function Rp(t){return(typeof t=="string"?t:""+t).replace(eE,`
`).replace(nE,"")}function wp(t,n){return n=Rp(n),Rp(t)===n}function mo(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":Ls(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=mo);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),zi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ac.get(r)||r,zi(t,r,l))}}function Wh(t,n,r,l,c,f){switch(r){case"style":Ls(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):zi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ft(t,n,l,G,r,null)}}Or(t,f,E,b,P,y,c,!1),va(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ui(t,!!l,n,!1):r!=null&&ui(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Mr(t,l,c,f),va(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Ct(Tl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,P,l,r,null)}return;default:if(Ps(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&Wh(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function iE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,Y)}}for(var B in l){var q=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Ft(t,n,B,q,l,Y)}}rn(t,y,E,b,P,G,f,c);return;case"select":q=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=q,B!=null?ui(t,!!r,B,!1):!!l!=!!r&&(n!=null?ui(t,!!r,n,!0):ui(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,B,q);return;case"option":for(var mt in r)if(B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Ft(t,n,mt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ft(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)B=r[ct],r.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&Ft(t,n,ct,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ft(t,n,P,B,l,q)}return;default:if(Ps(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&Wh(t,n,Kt,void 0,l,B);for(G in l)B=l[G],q=r[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||Wh(t,n,G,B,l,q);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,B);for(Y in l)B=l[Y],q=r[Y],!l.hasOwnProperty(Y)||B===q||B==null&&q==null||Ft(t,n,Y,B,l,q)}var tf=null,ef=null;function go(t){return t.nodeType===9?t:t.ownerDocument}function Cp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function nf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rf=null;function rE(){var t=window.event;return t&&t.type==="popstate"?t===rf?!1:(rf=t,!0):(rf=null,!1)}var Vp=typeof setTimeout=="function"?setTimeout:void 0,aE=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,sE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(t){return Ip.resolve(null).then(t).catch(lE)}:Vp;function lE(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function Np(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Sl(y.documentElement),r&2&&Sl(y.body),r&4)for(r=y.head,Sl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Dr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Nl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Nl(n)}function af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":af(r),Ui(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function uE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Dr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function oE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Nn(t.nextSibling),t===null))return null;return t}function sf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function cE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var lf=null;function Op(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Mp(t,n,r){switch(n=go(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var Rn=new Map,xp=new Set;function po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=tt.d;tt.d={f:hE,r:fE,D:dE,C:mE,L:gE,m:pE,X:_E,S:yE,M:vE};function hE(){var t=Ci.f(),n=so();return t||n}function fE(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?tg(n):Ci.r(t)}var ts=typeof document>"u"?null:document;function Up(t,n,r){var l=ts;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),xp.has(c)||(xp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function dE(t){Ci.D(t),Up("dns-prefetch",t,null)}function mE(t,n){Ci.C(t,n),Up("preconnect",t,n)}function gE(t,n,r){Ci.L(t,n,r);var l=ts;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=es(t);break;case"script":f=ns(t)}Rn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(bl(f))||n==="script"&&l.querySelector(Rl(f))||(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function pE(t,n){Ci.m(t,n);var r=ts;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ns(t)}if(!Rn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Rl(f)))return}l=r.createElement("link"),ze(l,"link",t),le(l),r.head.appendChild(l)}}}function yE(t,n,r){Ci.S(t,n,r);var l=ts;if(l&&t){var c=Ye(l).hoistableStyles,f=es(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(bl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&uf(t,r);var b=y=l.createElement("link");le(b),ze(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function _E(t,n){Ci.X(t,n);var r=ts;if(r&&t){var l=Ye(r).hoistableScripts,c=ns(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=A({src:t,async:!0},n),(n=Rn.get(c))&&of(t,n),f=r.createElement("script"),le(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function vE(t,n){Ci.M(t,n);var r=ts;if(r&&t){var l=Ye(r).hoistableScripts,c=ns(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&of(t,n),f=r.createElement("script"),le(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function zp(t,n,r,l){var c=(c=pt.current)?po(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=es(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=es(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(bl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||EE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ns(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function es(t){return'href="'+fe(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function Lp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function EE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),le(n),t.head.appendChild(n))}function ns(t){return'[src="'+fe(t)+'"]'}function Rl(t){return"script[async]"+t}function Pp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),ze(l,"style",c),yo(l,r.precedence,t),n.instance=l;case"stylesheet":c=es(r.href);var f=t.querySelector(bl(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Lp(r),(c=Rn.get(c))&&uf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,yo(f,r.precedence,t),n.instance=f;case"script":return f=ns(r.src),(c=t.querySelector(Rl(f)))?(n.instance=c,le(c),c):(l=r,(c=Rn.get(f))&&(l=A({},r),of(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yo(l,r.precedence,t));return n.instance}function yo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _o=null;function Bp(t,n,r){if(_o===null){var l=new Map,c=_o=new Map;c.set(r,l)}else c=_o,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Dr]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function qp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function TE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function AE(){}function SE(t,n,r){if(wl===null)throw Error(a(475));var l=wl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=es(r.href),f=t.querySelector(bl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=vo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=Lp(r),(c=Rn.get(c))&&uf(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=vo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function bE(){if(wl===null)throw Error(a(475));var t=wl;return t.stylesheets&&t.count===0&&cf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&cf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function vo(){if(this.count--,this.count===0){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Eo=null;function cf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Eo=new Map,n.forEach(RE,t),Eo=null,vo.call(t))}function RE(t,n){if(!(n.state.loading&4)){var r=Eo.get(t);if(r)var l=r.get(null);else{r=new Map,Eo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=vo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function wE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function jp(t,n,r,l,c,f,y,E,b,P,G,Y){return t=new wE(t,n,r,y,E,b,P,Y),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=Gc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Kc(f),t}function Hp(t){return t?(t=Ma,t):Ma}function Gp(t,n,r,l,c,f){c=Hp(c),l.context===null?l.context=c:l.pendingContext=c,l=ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ji(t,l,n),r!==null&&(hn(r,t,n),il(r,t,n))}function Qp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function hf(t,n){Qp(t,n),(t=t.alternate)&&Qp(t,n)}function Yp(t){if(t.tag===13){var n=Oa(t,67108864);n!==null&&hn(n,t,67108864),hf(t,67108864)}}var To=!0;function CE(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,ff(t,n,r,l)}finally{tt.p=f,H.T=c}}function DE(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,ff(t,n,r,l)}finally{tt.p=f,H.T=c}}function ff(t,n,r,l){if(To){var c=df(l);if(c===null)Jh(t,n,l,Ao,r),Kp(t,l);else if(IE(c,t,n,r,l))l.stopPropagation();else if(Kp(t,l),n&4&&-1<VE.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=wn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-qe(y);E.entanglements[1]|=b,y&=~b}Zn(f),(Ht&6)===0&&(ro=dn()+500,El(0))}}break;case 13:E=Oa(f,2),E!==null&&hn(E,f,2),so(),hf(f,2)}if(f=df(l),f===null&&Jh(t,n,l,Ao,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Jh(t,n,l,null,r)}}function df(t){return t=pn(t),mf(t)}var Ao=null;function mf(t){if(Ao=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ao=t,null}function Fp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pc()){case Rs:return 2;case ha:return 8;case Sr:case yc:return 32;case fa:return 268435456;default:return 32}default:return 32}}var gf=!1,er=null,nr=null,ir=null,Dl=new Map,Vl=new Map,rr=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(n.pointerId)}}function Il(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&Yp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function IE(t,n,r,l,c){switch(n){case"focusin":return er=Il(er,t,n,r,l,c),!0;case"dragenter":return nr=Il(nr,t,n,r,l,c),!0;case"mouseover":return ir=Il(ir,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Dl.set(f,Il(Dl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Vl.set(f,Il(Vl.get(f)||null,t,n,r,l,c)),!0}return!1}function Xp(t){var n=ai(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,su(t.priority,function(){if(r.tag===13){var l=cn();l=Oi(l);var c=Oa(r,l);c!==null&&hn(c,r,l),hf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function So(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=df(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);oi=l,r.target.dispatchEvent(l),oi=null}else return n=zn(r),n!==null&&Yp(n),t.blockedOn=r,!1;n.shift()}return!0}function Zp(t,n,r){So(t)&&r.delete(n)}function NE(){gf=!1,er!==null&&So(er)&&(er=null),nr!==null&&So(nr)&&(nr=null),ir!==null&&So(ir)&&(ir=null),Dl.forEach(Zp),Vl.forEach(Zp)}function bo(t,n){t.blockedOn===n&&(t.blockedOn=null,gf||(gf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,NE)))}var Ro=null;function $p(t){Ro!==t&&(Ro=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ro===t&&(Ro=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(mf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,dh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Nl(t){function n(b){return bo(b,t)}er!==null&&bo(er,t),nr!==null&&bo(nr,t),ir!==null&&bo(ir,t),Dl.forEach(n),Vl.forEach(n);for(var r=0;r<rr.length;r++){var l=rr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(r=rr[0],r.blockedOn===null);)Xp(r),r.blockedOn===null&&rr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||$p(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(mf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),$p(r)}}}function pf(t){this._internalRoot=t}wo.prototype.render=pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();Gp(r,l,t,n,null,null)},wo.prototype.unmount=pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gp(t.current,2,null,t,null,null),so(),n[mn]=null}};function wo(t){this._internalRoot=t}wo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Mi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<rr.length&&n!==0&&n<rr[r].priority;r++);rr.splice(r,0,t),r===0&&Xp(t)}};var Jp=e.version;if(Jp!=="19.1.0")throw Error(a(527,Jp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var OE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{re=Co.inject(OE),jt=Co}catch{}}return Ml.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=mg,f=gg,y=pg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=jp(t,1,!1,null,null,r,l,c,f,y,E,null),t[mn]=n.current,$h(t),new pf(n)},Ml.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=mg,y=gg,E=pg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=jp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=Hp(null),r=n.current,l=cn(),l=Oi(l),c=ki(l),c.callback=null,ji(r,c,l),r=l,n.current.lanes=r,ri(n,r),Zn(n),t[mn]=n.current,$h(t),new wo(n)},Ml.version="19.1.0",Ml}var uy;function jE(){if(uy)return vf.exports;uy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vf.exports=kE(),vf.exports}var HE=jE();const GE=()=>{};var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},QE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},S_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let I=(g&15)<<2|_>>6,j=_&63;v||(j=64,d||(I=64)),a.push(i[A],i[C],i[I],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(A_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):QE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const C=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||_==null||C==null)throw new YE;const I=h<<2|g>>4;if(a.push(I),_!==64){const j=g<<4&240|_>>2;if(a.push(j),C!==64){const Z=_<<6&192|C;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class YE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FE=function(s){const e=A_(s);return S_.encodeByteArray(e,!0)},qo=function(s){return FE(s).replace(/\./g,"")},KE=function(s){try{return S_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=()=>XE().__FIREBASE_DEFAULTS__,$E=()=>{if(typeof process>"u"||typeof oy>"u")return;const s=oy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},JE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&KE(s[1]);return e&&JSON.parse(e)},nd=()=>{try{return GE()||ZE()||$E()||JE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},WE=s=>{var e,i;return(i=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},tT=s=>{const e=WE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},b_=()=>{var s;return(s=nd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(s){return s.endsWith(".cloudworkstations.dev")}async function nT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[qo(JSON.stringify(i)),qo(JSON.stringify(d)),""].join(".")}const Pl={};function rT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?s.emulator.push(e):s.prod.push(e);return s}function aT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let cy=!1;function R_(s,e){if(typeof window>"u"||typeof document>"u"||!id(window.location.host)||Pl[s]===e||Pl[s]||cy)return;Pl[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",h=rT().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,j){I.setAttribute("width","24"),I.setAttribute("id",j),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{cy=!0,d()},I}function A(I,j){I.setAttribute("id",j),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function C(){const I=aT(a),j=i("text"),Z=document.getElementById(j)||document.createElement("span"),nt=i("learnmore"),$=document.getElementById(nt)||document.createElement("a"),Et=i("preprendIcon"),gt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ft=I.element;g(ft),A($,nt);const Ut=_();v(gt,Et),ft.append(gt,Z,$,Ut),document.body.appendChild(ft)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lT(){var s;const e=(s=nd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uT(){return!lT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="FirebaseError";class _s extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=hT,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w_.prototype.create)}}class w_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?fT(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new _s(u,g,a)}}function fT(s,e){return s.replace(dT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const dT=/\{\$([^}]+)}/g;function ko(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(hy(h)&&hy(d)){if(!ko(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function hy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(s){return s&&s._delegate?s._delegate:s}class Hl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new eT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pT(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gT(s){return s===ia?void 0:s}function pT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new mT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const _T={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},vT=xt.INFO,ET={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},TT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=ET[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C_{constructor(e){this.name=e,this._logLevel=vT,this._logHandler=TT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_T[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const AT=(s,e)=>e.some(i=>s instanceof i);let fy,dy;function ST(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bT(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,Nf=new WeakMap,V_=new WeakMap,Sf=new WeakMap,rd=new WeakMap;function RT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(lr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&D_.set(i,s)}).catch(()=>{}),rd.set(e,s),e}function wT(s){if(Nf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Nf.set(s,e)}let Of={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Nf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||V_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function CT(s){Of=s(Of)}function DT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(bf(this),e,...i);return V_.set(a,e.sort?e.sort():[e]),lr(a)}:bT().includes(s)?function(...e){return s.apply(bf(this),e),lr(D_.get(this))}:function(...e){return lr(s.apply(bf(this),e))}}function VT(s){return typeof s=="function"?DT(s):(s instanceof IDBTransaction&&wT(s),AT(s,ST())?new Proxy(s,Of):s)}function lr(s){if(s instanceof IDBRequest)return RT(s);if(Sf.has(s))return Sf.get(s);const e=VT(s);return e!==s&&(Sf.set(s,e),rd.set(e,s)),e}const bf=s=>rd.get(s);function IT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=lr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(lr(d.result),v.oldVersion,v.newVersion,lr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const NT=["get","getKey","getAll","getAllKeys","count"],OT=["put","add","delete","clear"],Rf=new Map;function my(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=OT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||NT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&v.done]))[0]};return Rf.set(e,h),h}CT(s=>({...s,get:(e,i,a)=>my(e,i)||s.get(e,i,a),has:(e,i)=>!!my(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function xT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mf="@firebase/app",gy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new C_("@firebase/app"),UT="@firebase/app-compat",zT="@firebase/analytics-compat",LT="@firebase/analytics",PT="@firebase/app-check-compat",BT="@firebase/app-check",qT="@firebase/auth",kT="@firebase/auth-compat",jT="@firebase/database",HT="@firebase/data-connect",GT="@firebase/database-compat",QT="@firebase/functions",YT="@firebase/functions-compat",FT="@firebase/installations",KT="@firebase/installations-compat",XT="@firebase/messaging",ZT="@firebase/messaging-compat",$T="@firebase/performance",JT="@firebase/performance-compat",WT="@firebase/remote-config",t1="@firebase/remote-config-compat",e1="@firebase/storage",n1="@firebase/storage-compat",i1="@firebase/firestore",r1="@firebase/ai",a1="@firebase/firestore-compat",s1="firebase",l1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="[DEFAULT]",u1={[Mf]:"fire-core",[UT]:"fire-core-compat",[LT]:"fire-analytics",[zT]:"fire-analytics-compat",[BT]:"fire-app-check",[PT]:"fire-app-check-compat",[qT]:"fire-auth",[kT]:"fire-auth-compat",[jT]:"fire-rtdb",[HT]:"fire-data-connect",[GT]:"fire-rtdb-compat",[QT]:"fire-fn",[YT]:"fire-fn-compat",[FT]:"fire-iid",[KT]:"fire-iid-compat",[XT]:"fire-fcm",[ZT]:"fire-fcm-compat",[$T]:"fire-perf",[JT]:"fire-perf-compat",[WT]:"fire-rc",[t1]:"fire-rc-compat",[e1]:"fire-gcs",[n1]:"fire-gcs-compat",[i1]:"fire-fst",[a1]:"fire-fst-compat",[r1]:"fire-vertex","fire-js":"fire-js",[s1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Map,o1=new Map,Uf=new Map;function py(s,e){try{s.container.addComponent(e)}catch(i){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ho(s){const e=s.name;if(Uf.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Uf.set(e,s);for(const i of jo.values())py(i,s);for(const i of o1.values())py(i,s);return!0}function c1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function h1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new w_("app","Firebase",f1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=l1;function I_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:xf,automaticDataCollectionEnabled:!0},e),u=a.name;if(typeof u!="string"||!u)throw ur.create("bad-app-name",{appName:String(u)});if(i||(i=b_()),!i)throw ur.create("no-options");const h=jo.get(u);if(h){if(ko(i,h.options)&&ko(a,h.config))return h;throw ur.create("duplicate-app",{appName:u})}const d=new yT(u);for(const v of Uf.values())d.addComponent(v);const g=new d1(i,a,d);return jo.set(u,g),g}function g1(s=xf){const e=jo.get(s);if(!e&&s===xf&&b_())return I_();if(!e)throw ur.create("no-app",{appName:s});return e}function us(s,e,i){var a;let u=(a=u1[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(g.join(" "));return}Ho(new Hl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebase-heartbeat-database",y1=1,Gl="firebase-heartbeat-store";let wf=null;function N_(){return wf||(wf=IT(p1,y1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),wf}async function _1(s){try{const i=(await N_()).transaction(Gl),a=await i.objectStore(Gl).get(O_(s));return await i.done,a}catch(e){if(e instanceof _s)Di.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(i.message)}}}async function yy(s,e){try{const a=(await N_()).transaction(Gl,"readwrite");await a.objectStore(Gl).put(e,O_(s)),await a.done}catch(i){if(i instanceof _s)Di.warn(i.message);else{const a=ur.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Di.warn(a.message)}}}function O_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=1024,E1=30;class T1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new S1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=_y();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>E1){const d=b1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Di.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=_y(),{heartbeatsToSend:a,unsentEntries:u}=A1(this._heartbeatsCache.heartbeats),h=qo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Di.warn(i),""}}}function _y(){return new Date().toISOString().substring(0,10)}function A1(s,e=v1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),vy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),vy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class S1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return yy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return yy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function vy(s){return qo(JSON.stringify({version:2,heartbeats:s})).length}function b1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(s){Ho(new Hl("platform-logger",e=>new MT(e),"PRIVATE")),Ho(new Hl("heartbeat",e=>new T1(e),"PRIVATE")),us(Mf,gy,s),us(Mf,gy,"esm2017"),us("fire-js","")}R1("");var w1="firebase",C1="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(w1,C1,"app");var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,M_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(N,M,U){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[M].apply(N,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],M=O.g[2];var U=O.g[3],R=S+(U^w&(M^U))+N[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+N[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+N[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+N[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+N[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+N[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+N[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(w^M))+N[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+N[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+N[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+N[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+N[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+N[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+N[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^U)+N[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+N[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+N[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+N[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+N[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+N[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+N[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~U))+N[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+N[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+N[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+N[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+N[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+N[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,N=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(N[M++]=O.charCodeAt(U++),M==this.blockSize){u(this,N),M=0;break}}else for(;U<S;)if(N[M++]=O[U++],M==this.blockSize){u(this,N),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)O[w++]=this.g[S]>>>N&255;return O};function h(O,S){var w=g;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function d(O,S){this.h=S;for(var w=[],N=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;N&&U==S||(w[M]=U,N=!1)}this.g=w}var g={};function v(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return C;if(0>O)return $(_(-O));for(var S=[],w=1,N=0;O>=w;N++)S[N]=O/w|0,w*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return $(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),N=C,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),R=parseInt(O.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),N=N.j(U).add(_(R))):(N=N.j(w),N=N.add(_(R)))}return N}var C=v(0),I=v(1),j=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-$(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);O+=(0<=N?N:4294967296+N)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(nt(this))return"-"+$(this).toString(O);for(var S=_(Math.pow(O,6)),w=this,N="";;){var M=Ut(w,S).g;w=Et(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=M,Z(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function nt(O){return O.h==-1}s.l=function(O){return O=Et(this,O),nt(O)?-1:Z(O)?0:1};function $(O){for(var S=O.g.length,w=[],N=0;N<S;N++)w[N]=~O.g[N];return new d(w,~O.h).add(I)}s.abs=function(){return nt(this)?$(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0,M=0;M<=S;M++){var U=N+(this.i(M)&65535)+(O.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=R>>>16,U&=65535,R&=65535,w[M]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Et(O,S){return O.add($(S))}s.j=function(O){if(Z(this)||Z(O))return C;if(nt(this))return nt(O)?$(this).j($(O)):$($(this).j(O));if(nt(O))return $(this.j($(O)));if(0>this.l(j)&&0>O.l(j))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var U=this.i(N)>>>16,R=this.i(N)&65535,Ne=O.i(M)>>>16,ie=O.i(M)&65535;w[2*N+2*M]+=R*ie,gt(w,2*N+2*M),w[2*N+2*M+1]+=U*ie,gt(w,2*N+2*M+1),w[2*N+2*M+1]+=R*Ne,gt(w,2*N+2*M+1),w[2*N+2*M+2]+=U*Ne,gt(w,2*N+2*M+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function gt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ft(O,S){this.g=O,this.h=S}function Ut(O,S){if(Z(S))throw Error("division by zero");if(Z(O))return new ft(C,C);if(nt(O))return S=Ut($(O),S),new ft($(S.g),$(S.h));if(nt(S))return S=Ut(O,$(S)),new ft($(S.g),S.h);if(30<O.g.length){if(nt(O)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=I,N=S;0>=N.l(O);)w=vt(w),N=vt(N);var M=Lt(w,1),U=Lt(N,1);for(N=Lt(N,2),w=Lt(w,2);!Z(N);){var R=U.add(N);0>=R.l(O)&&(M=M.add(w),U=R),N=Lt(N,1),w=Lt(w,1)}return S=Et(O,M.j(S)),new ft(M,S)}for(M=C;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(w),R=U.j(S);nt(R)||0<R.l(O);)w-=N,U=_(w),R=U.j(S);Z(U)&&(U=I),M=M.add(U),O=Et(O,R)}return new ft(M,O)}s.A=function(O){return Ut(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&O.i(N);return new d(w,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|O.i(N);return new d(w,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^O.i(N);return new d(w,this.h^O.h)};function vt(O){for(var S=O.g.length+1,w=[],N=0;N<S;N++)w[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(w,O.h)}function Lt(O,S){var w=S>>5;S%=32;for(var N=O.g.length-w,M=[],U=0;U<N;U++)M[U]=0<S?O.i(U+w)>>>S|O.i(U+w+1)<<32-S:O.i(U+w);return new d(M,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,M_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,or=d}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x_,xl,U_,Mo,zf,z_,L_,P_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Do=="object"&&Do];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in p))break t;p=p[z]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,z={next:function(){if(!T&&p<o.length){var k=p++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function C(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function I(o,m,p){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,I.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,z,k){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[z].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function $(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const z=o.length||0,k=T.length||0;o.length=z+k;for(let W=0;W<k;W++)o[z+W]=T[W]}else o.push(T)}}class Et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(o){return/^[\s\xa0]*$/.test(o)}function ft(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Ut(o){return Ut[" "](o),o}Ut[" "]=function(){};var vt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Lt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function O(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)o[p]=T[p];for(let k=0;k<w.length;k++)p=w[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function R(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new Et(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,Pt=new Ne,D=()=>{const o=g.Promise.resolve(void 0);tt=()=>{o.then(X)}};var X=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(p){U(p)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function bt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{Ut(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}Z(bt,J);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(o,m,p,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function Ni(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ni(o){this.src=o,this.g={},this.h=0}ni.prototype.add=function(o,m,p,T,z){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var W=Tr(o,m,T,z);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new xn(m,this.src,k,!!T,z),m.fa=p,o.push(m)),m};function Er(o,m){var p=m.type;if(p in o.g){var T=o.g[p],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=z)&&Array.prototype.splice.call(T,z,1),k&&(Ni(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Tr(o,m,p,T){for(var z=0;z<o.length;++z){var k=o[z];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return z}return-1}var Ar="closure_lm_"+(1e6*Math.random()|0),bs={};function iu(o,m,p,T,z){if(Array.isArray(m)){for(var k=0;k<m.length;k++)iu(o,m[k],p,T,z);return null}return p=ru(p),o&&o[be]?o.K(m,p,_(T)?!!T.capture:!1,z):dn(o,m,p,!1,T,z)}function dn(o,m,p,T,z,k){if(!m)throw Error("Invalid event type");var W=_(z)?!!z.capture:!!z,Vt=fa(o);if(Vt||(o[Ar]=Vt=new ni(o)),p=Vt.add(m,p,T,W,k),p.proxy)return p;if(T=pc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ot||(z=W),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Sr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function pc(){function o(p){return m.call(o.src,o.listener,p)}const m=yc;return o}function Rs(o,m,p,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Rs(o,m[k],p,T,z);else T=_(T)?!!T.capture:!!T,p=ru(p),o&&o[be]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],p=Tr(k,p,T,z),-1<p&&(Ni(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=fa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Tr(m,p,T,z)),(p=-1<o?m[o]:null)&&ha(p))}function ha(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[be])Er(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Sr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=fa(m))?(Er(p,o),p.h==0&&(p.src=null,m[Ar]=null)):Ni(o)}}}function Sr(o){return o in bs?bs[o]:bs[o]="on"+o}function yc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&ha(o),o=p.call(T,m)}return o}function fa(o){return o=o[Ar],o instanceof ni?o:null}var ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(o){return typeof o=="function"?o:(o[ws]||(o[ws]=function(m){return o.handleEvent(m)}),o[ws])}function re(){et.call(this),this.i=new ni(this),this.M=this,this.F=null}Z(re,et),re.prototype[be]=!0,re.prototype.removeEventListener=function(o,m,p,T){Rs(this,o,m,p,T)};function jt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var z=m;m=new J(T,o),N(m,z)}if(z=!0,p)for(var k=p.length-1;0<=k;k--){var W=m.g=p[k];z=nn(W,T,!0,m)&&z}if(W=m.g=o,z=nn(W,T,!0,m)&&z,z=nn(W,T,!1,m)&&z,p)for(k=0;k<p.length;k++)W=m.g=p[k],z=nn(W,T,!1,m)&&z}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Ni(p[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},re.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function nn(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,k=0;k<m.length;++k){var W=m[k];if(W&&!W.da&&W.capture==p){var Vt=W.listener,ve=W.ha||W.src;W.fa&&Er(o.i,W),z=Vt.call(ve,T)!==!1&&z}}return z&&!T.defaultPrevented}function qe(o,m,p){if(typeof o=="function")p&&(o=I(o,p));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function au(o){o.g=qe(()=>{o.g=null,o.i&&(o.i=!1,au(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class _c extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(o){et.call(this),this.h=o,this.g={}}Z(br,et);var Rr=[];function wr(o){Lt(o.g,function(m,p){this.g.hasOwnProperty(p)&&ha(m)},o),o.g={}}br.prototype.N=function(){br.aa.N.call(this),wr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=g.JSON.stringify,da=g.JSON.parse,Cr=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Cs(){}Cs.prototype.h=null;function Ds(o){return o.h||(o.h=o.i())}function Vs(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){J.call(this,"d")}Z(ri,J);function Is(){J.call(this,"c")}Z(Is,J);var Un={},Ns=null;function Oi(){return Ns=Ns||new re}Un.La="serverreachability";function ma(o){J.call(this,Un.La,o)}Z(ma,J);function Mi(o){const m=Oi();jt(m,new ma(m))}Un.STAT_EVENT="statevent";function su(o,m){J.call(this,Un.STAT_EVENT,o),this.stat=m}Z(su,J);function Wt(o){const m=Oi();jt(m,new su(m,o))}Un.Ma="timingevent";function _e(o,m){J.call(this,Un.Ma,o),this.size=m}Z(_e,J);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Os(o,m,p,T,z,k){o.info(function(){if(o.g)if(k)for(var W="",Vt=k.split("&"),ve=0;ve<Vt.length;ve++){var It=Vt[ve].split("=");if(1<It.length){var we=It[0];It=It[1];var Ee=we.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(we+"="+It+"&"):W+(we+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+W})}function vc(o,m,p,T,z,k,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+k+" "+W})}function xi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dr(o,p)+(T?" "+T:"")})}function lu(o,m){o.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Dr(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var k=z[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<z.length;W++)z[W]=""}}}}return wn(p)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Ln(){}Z(Ln,Cs),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},zn=new Ln;function Ye(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Ms={},ga={};function Cn(o,m,p){o.L=1,o.v=Mr(rn(m)),o.m=p,o.P=!0,si(o,null)}function si(o,m){o.F=Date.now(),Vr(o),o.A=rn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Bs(p.i,"t",T),o.C=0,p=o.j.J,o.h=new le,o.g=Su(o.j,p?m:null,!o.m),0<o.O&&(o.M=new _c(I(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(Rr[0]=z.toString()),z=Rr);for(var k=0;k<z.length;k++){var W=iu(p,z[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Mi(),Os(o.i,o.u,o.A,o.l,o.R,o.m)}Ye.prototype.ca=function(o){o=o.target;const m=this.M;m&&_n(o)==3?m.j():this.Y(o)},Ye.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=_n(this.g);var m=this.g.Ba();const mi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=mi?Mi(3):Mi(2)),zi(this);var p=this.g.Z();this.X=p;e:if(uu(this)){var T=gu(this.g);o="";var z=T.length,k=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Pn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,vc(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(Vt)){var It=Vt;break e}}It=null}if(p=It)xi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ir(this,p);else{this.o=!1,this.s=3,Wt(12),Oe(this),Pn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<W.length;)if(Me=ou(this,W),Me==ga){Ee==4&&(this.s=4,Wt(14),p=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Ms){this.s=4,Wt(15),xi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else xi(this.i,this.l,Me,null),Ir(this,Me);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)xi(this.i,this.l,W,"[Invalid Chunked Response]"),Oe(this),Pn(this);else if(0<W.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),kr(we),we.M=!0,Wt(11))}}else xi(this.i,this.l,W,null),Ir(this,W);Ee==4&&Oe(this),this.o&&!this.J&&(Ee==4?Eu(this.j,this):(this.o=!1,Vr(this)))}else bc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Oe(this),Pn(this)}}}catch{}finally{}};function uu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function ou(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?ga:(p=Number(m.substring(p,T)),isNaN(p)?Ms:(T+=1,T+p>m.length?ga:(m=m.slice(T,T+p),o.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Vr(o){o.S=Date.now()+o.I,cu(o,o.I)}function cu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(I(o.ba,o),m)}function zi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Ye.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(lu(this.i,this.A),this.L!=2&&(Mi(),Wt(17)),Oe(this),this.s=2,Pn(this)):cu(this,this.S-o)};function Pn(o){o.j.G==0||o.J||Eu(o.j,o)}function Oe(o){zi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,wr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ir(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||xs(p.h,o))){if(!o.K&&xs(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ca(p),Ra(p);else break t;Gs(p),Wt(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(I(p.Za,p),6e3));if(1>=ya(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else di(p,11)}else if((o.K||p.g==o)&&Ca(p),!gt(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let It=z[m];if(p.T=It[0],It=It[1],p.G==2)if(It[0]=="c"){p.K=It[1],p.ia=It[2];const we=It[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const Ee=It[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const mi=It[5];mi!=null&&typeof mi=="number"&&0<mi&&(T=1.5*mi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Qn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var k=T.h;k.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(_a(k,k.h),k.h=null))}if(T.D){const Ys=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Ys&&(T.ya=Ys,Qt(T.I,T.D,Ys))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=Au(T,T.J?T.ia:null,T.W),W.K){Fe(T.h,W);var Vt=W,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(zi(Vt),Vr(Vt)),T.g=W}else _u(T);0<p.i.length&&wa(p)}else It[0]!="stop"&&It[0]!="close"||di(p,7);else p.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?di(p,7):js(p):It[0]!="noop"&&p.l&&p.l.ta(It),p.v=0)}}Mi(4)}catch{}}var hu=class{constructor(o,m){this.g=o,this.map=m}};function li(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ya(o){return o.h?1:o.g?o.g.size:0}function xs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function _a(o,m){o.g?o.g.add(m):o.h=m}function Fe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}li.prototype.cancel=function(){if(this.i=Us(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Us(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return nt(o.i)}function Ec(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function va(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function zs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=va(o),T=Ec(o),z=T.length,k=0;k<z;k++)m.call(void 0,T[k],p&&p[k],o)}var Nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),z=null;if(0<=T){var k=o[p].substring(0,T);z=o[p].substring(T+1)}else k=o[p];m(k,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Or(this,o.j),this.o=o.o,this.g=o.g,Li(this,o.s),this.l=o.l;var m=o.i,p=new oi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ui(this,p),this.m=o.m}else o&&(m=String(o).match(Nr))?(this.h=!1,Or(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),Li(this,m[4]),this.l=gn(m[5]||"",!0),ui(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(xr(m,Ls,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(xr(m,Ls,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(xr(p,p.charAt(0)=="/"?Ac:Ps,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",xr(p,Ea)),o.join("")};function rn(o){return new fe(o)}function Or(o,m,p){o.j=p?gn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Li(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ui(o,m,p){m instanceof oi?(o.i=m,du(o.i,o.h)):(p||(m=xr(m,Sc)),o.i=new oi(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function Mr(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function gn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function xr(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,fu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function fu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ls=/[#\/\?@]/g,Ps=/[#\?:]/g,Ac=/[#\?]/g,Sc=/[#\?@]/g,Ea=/#/g;function oi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&Tc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=oi.prototype,s.add=function(o,m){pn(this),this.i=null,o=Bn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function ci(o,m){pn(o),m=Bn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return pn(o),m=Bn(o,m),o.g.has(m)}s.forEach=function(o,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(z){o.call(m,z,T,this)},this)},this)},s.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const z=o[T];for(let k=0;k<z.length;k++)p.push(m[T])}return p},s.V=function(o){pn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return pn(this),this.i=null,o=Bn(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Bs(o,m,p){ci(o,m),0<p.length&&(o.i=null,o.g.set(Bn(o,m),nt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var z=k;W[T]!==""&&(z+="="+encodeURIComponent(String(W[T]))),o.push(z)}}return this.i=o.join("&")};function Bn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function du(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(p,T){var z=T.toLowerCase();T!=z&&(ci(this,T),Bs(this,z,p))},o)),o.j=m}function Ur(o,m){const p=new mn;if(g.Image){const T=new Image;T.onload=j(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Dn(o,m){const p=new mn,T=new AbortController,z=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),yn(p,"TestPingServer: error",!1,m)})}function yn(o,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function zr(){this.g=new Cr}function qn(o,m,p){const T=p||"";try{zs(o,function(z,k){let W=z;_(z)&&(W=wn(z)),m.push(T+k+"="+encodeURIComponent(W))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Pi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Pi,Cs),Pi.prototype.g=function(){return new fi(this.l,this.j)},Pi.prototype.i=function(o){return function(){return o}}({});function fi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(fi,re),s=fi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,jn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function qs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?kn(this):jn(this),this.readyState==3&&qs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,kn(this))},s.Qa=function(o){this.g&&(this.response=o,kn(this))},s.ga=function(){this.g&&kn(this)};function kn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,jn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ks(o){let m="";return Lt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=ks(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function qt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,re);var Ta=/^https?$/i,Lr=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ds(this.o):Ds(zn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){mu(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),z=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Lr,m,void 0))||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of p)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){mu(this,k)}};function mu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Aa(o),Hn(o)}function Aa(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),Hn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},s.bb=function(){Sa(this)};function Sa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)qe(o.Ea,0,o);else if(jt(o,"readystatechange"),_n(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var z=String(o.D).match(Nr)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!Ta.test(z?z.toLowerCase():"")}p=T}if(p)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var k=2<_n(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Aa(o)}}finally{Hn(o)}}}}function Hn(o,m){if(o.g){Pr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||jt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Pr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),da(m)}};function gu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function bc(o){const m={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(gt(o[T]))continue;var p=M(o[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[z]||[];m[z]=k,k.push(p)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function ba(o){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,o),this.cb=Br("retryDelaySeedMs",1e4,o),this.Wa=Br("forwardChannelMaxRetries",2,o),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new li(o&&o.concurrentRequestLimit),this.Da=new zr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ba.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){Wt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Au(this,null,this.W),wa(this)};function js(o){if(pu(o),o.G==3){var m=o.U++,p=rn(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),qr(o,p),m=new Ye(o,o.j,m),m.L=2,m.v=Mr(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Vr(m)}Tu(o)}function Ra(o){o.g&&(kr(o),o.g.cancel(),o.g=null)}function pu(o){Ra(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ca(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function wa(o){if(!pa(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||D(),lt||(tt(),lt=!0),Pt.add(m,o),o.B=0}}function Rc(o,m){return ya(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(I(o.Ga,o,m),Qs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Ye(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),N(k,this.S)):k=this.S),this.m!==null||this.O||(z.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=yu(this,z,m),p=rn(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),qr(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(ks(k)))+"&"+m:this.m&&Re(p,this.m,k)),_a(this.h,z),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),z.T=!0,Cn(z,p,null)):Cn(z,p,m),this.G=2}}else this.G==3&&(o?Hs(this,o):this.i.length==0||pa(this.h)||Hs(this))};function Hs(o,m){var p;m?p=m.l:p=o.U++;const T=rn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),qr(o,T),o.m&&o.o&&Re(T,o.m,o.o),p=new Ye(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=yu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),_a(o.h,p),Cn(p,T,m)}function qr(o,m){o.H&&Lt(o.H,function(p,T){Qt(m,T,p)}),o.l&&zs({},function(p,T){Qt(m,T,p)})}function yu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?I(o.l.Na,o.l,o):null;t:{var z=o.i;let k=-1;for(;;){const W=["count="+p];k==-1?0<p?(k=z[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let Vt=!0;for(let ve=0;ve<p;ve++){let It=z[ve].g;const we=z[ve].map;if(It-=k,0>It)k=Math.max(0,z[ve].g-100),Vt=!1;else try{qn(we,W,"req"+It+"_")}catch{T&&T(we)}}if(Vt){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function _u(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||D(),lt||(tt(),lt=!0),Pt.add(m,o),o.v=0}}function Gs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(I(o.Fa,o),Qs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(I(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Ra(this),vu(this))};function kr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function vu(o){o.g=new Ye(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=rn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),qr(o,m),o.m&&o.o&&Re(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Mr(rn(m)),p.m=null,p.P=!0,si(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Ra(this),Gs(this),Wt(19))};function Ca(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Eu(o,m){var p=null;if(o.g==m){Ca(o),kr(o),o.g=null;var T=2}else if(xs(o.h,m))p=m.D,Fe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=Oi(),jt(T,new _e(T,p)),wa(o)}else _u(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Rc(o,m)||T==2&&Gs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),z){case 1:di(o,5);break;case 4:di(o,10);break;case 3:di(o,6);break;default:di(o,2)}}}function Qs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function di(o,m){if(o.j.info("Error code "+m),m==2){var p=I(o.fb,o),T=o.Xa;const z=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Or(T,"https"),Mr(T),z?Ur(T.toString(),p):Dn(T.toString(),p)}else Wt(2);o.G=0,o.l&&o.l.sa(m),Tu(o),pu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Tu(o){if(o.G=0,o.ka=[],o.l){const m=Us(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function Au(o,m,p){var T=p instanceof fe?rn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Li(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var k=new fe(null);T&&Or(k,T),m&&(k.g=m),z&&Li(k,z),p&&(k.l=p),T=k}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),qr(o,T),T}function Su(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Pi({eb:p})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Da(){}Da.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){re.call(this),this.g=new ba(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!gt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Gn(this)}Z(Ke,re),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){js(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=wn(o),o=p);m.i.push(new hu(m.Ya++,o)),m.G==3&&wa(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,Ke.aa.N.call(this)};function Ru(o){ri.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Ru,ri);function wu(){Is.call(this),this.status=1}Z(wu,Is);function Gn(o){this.g=o}Z(Gn,bu),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(o){jt(this.g,new Ru(o))},Gn.prototype.sa=function(o){jt(this.g,new wu)},Gn.prototype.ra=function(){jt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,P_=function(){return new Da},L_=function(){return Oi()},z_=Un,zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Mo=Ui,ai.COMPLETE="complete",U_=ai,Vs.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",re.prototype.listen=re.prototype.K,xl=Vs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,x_=qt}).apply(typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{});const Ty="@firebase/firestore",Ay="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vs="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new C_("@firebase/firestore");function is(){return sa.logLevel}function it(s,...e){if(sa.logLevel<=xt.DEBUG){const i=e.map(ad);sa.debug(`Firestore (${vs}): ${s}`,...i)}}function Vi(s,...e){if(sa.logLevel<=xt.ERROR){const i=e.map(ad);sa.error(`Firestore (${vs}): ${s}`,...i)}}function cs(s,...e){if(sa.logLevel<=xt.WARN){const i=e.map(ad);sa.warn(`Firestore (${vs}): ${s}`,...i)}}function ad(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,B_(s,a,i)}function B_(s,e,i){let a=`FIRESTORE (${vs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Vi(a),new Error(a)}function kt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||B_(e,u,a)}function _t(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends _s{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class V1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class I1{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let a=this.i;const u=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new aa,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},g=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new aa)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string",31837,{l:a}),new q_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class N1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new N1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,h1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=x1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function St(s,e){return s<e?-1:s>e?1:0}function Lf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return St(a,u);{const h=k_(),d=U1(h.encode(by(s,i)),h.encode(by(e,i)));return d!==0?d:St(a,u)}}i+=a>65535?2:1}return St(s.length,e.length)}function by(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function U1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return St(s[i],e[i]);return St(s.length,e.length)}function hs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-62135596800,wy=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*wy);return new ye(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ry)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wy}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ry;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ye(0,0))}static max(){return new yt(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="__name__";class $n{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&dt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=$n.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return St(e.length,i.length)}static compareSegments(e,i){const a=$n.isNumericId(e),u=$n.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?$n.extractNumericId(e).compare($n.extractNumericId(i)):Lf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class Jt extends $n{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const z1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends $n{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return z1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new Pe([Cy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Jt.fromString(e))}static fromName(e){return new ut(Jt.fromString(e).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function L1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(a===1e9?new ye(i+1,0):new ye(i,a));return new fr(u,ut.empty(),e)}function P1(s){return new fr(s.readTime,s.key,Ql)}class fr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new fr(yt.min(),ut.empty(),Ql)}static max(){return new fr(yt.max(),ut.empty(),Ql)}}function B1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,e.documentKey),i!==0?i:St(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Es(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==q1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},v=>a(v))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(u=>u?F.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new F((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new F((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function j1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ts(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ec.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=-1;function nc(s){return s==null}function Go(s){return s===0&&1/s==-1/0}function H1(s){return typeof s=="number"&&Number.isInteger(s)&&!Go(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="";function G1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Dy(e)),e=Q1(s.get(i),e);return Dy(e)}function Q1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case H_:i+="";break;default:i+=h}}return i}function Dy(s){return s+H_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function _r(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function G_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vo(this.root,e,this.comparator,!0)}}class Vo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Le.RED,this.left=u??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Le(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iy(this.data.getIterator())}getIteratorFrom(e){return new Iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new fn([])}unionWith(e){let i=new Se(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return hs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Q_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Y1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=Y1.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="server_timestamp",F_="__type__",K_="__previous_value__",X_="__local_write_time__";function ld(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[F_])===null||i===void 0?void 0:i.stringValue)===Y_}function ic(s){const e=s.mapValue.fields[K_];return ld(e)?ic(e):e}function Yl(s){const e=dr(s.mapValue.fields[X_].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,i,a,u,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Qo="(default)";class Fl{constructor(e,i){this.projectId=e,this.database=i||Qo}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===Qo}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="__type__",K1="__max__",Io={mapValue:{}},$_="__vector__",Yo="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ld(s)?4:Z1(s)?9007199254740991:X1(s)?10:11:dt(28295,{value:s})}function ei(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=dr(u.timestampValue),g=dr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return mr(u.bytesValue).isEqual(mr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?Go(d)===Go(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return hs(s.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Vy(d)!==Vy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ei(d[v],g[v])))return!1;return!0}(s,e);default:return dt(52216,{left:s})}}function Kl(s,e){return(s.values||[]).find(i=>ei(i,e))!==void 0}function fs(s,e){if(s===e)return 0;const i=gr(s),a=gr(e);if(i!==a)return St(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),v=ce(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,e);case 3:return Ny(s.timestampValue,e.timestampValue);case 4:return Ny(Yl(s),Yl(e));case 5:return Lf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=mr(h),v=mr(d);return g.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=St(g[_],v[_]);if(A!==0)return A}return St(g.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=St(ce(h.latitude),ce(d.latitude));return g!==0?g:St(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Oy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,A;const C=h.fields||{},I=d.fields||{},j=(g=C[Yo])===null||g===void 0?void 0:g.arrayValue,Z=(v=I[Yo])===null||v===void 0?void 0:v.arrayValue,nt=St(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Oy(j,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Io.mapValue&&d===Io.mapValue)return 0;if(h===Io.mapValue)return 1;if(d===Io.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let C=0;C<v.length&&C<A.length;++C){const I=Lf(v[C],A[C]);if(I!==0)return I;const j=fs(g[v[C]],_[A[C]]);if(j!==0)return j}return St(v.length,A.length)}(s.mapValue,e.mapValue);default:throw dt(23264,{Pe:i})}}function Ny(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return St(s,e);const i=dr(s),a=dr(e),u=St(i.seconds,a.seconds);return u!==0?u:St(i.nanos,a.nanos)}function Oy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=fs(i[u],a[u]);if(h)return h}return St(i.length,a.length)}function ds(s){return Pf(s)}function Pf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=dr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return mr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ut.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Pf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Pf(i.fields[d])}`;return u+"}"}(s.mapValue):dt(61005,{value:s})}function xo(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ic(s);return e?16+xo(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+xo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return _r(a.fields,(h,d)=>{u+=h.length+xo(d)}),u}(s.mapValue);default:throw dt(13486,{value:s})}}function My(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Bf(s){return!!s&&"integerValue"in s}function ud(s){return!!s&&"arrayValue"in s}function xy(s){return!!s&&"nullValue"in s}function Uy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uo(s){return!!s&&"mapValue"in s}function X1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z_])===null||i===void 0?void 0:i.stringValue)===$_}function Bl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return _r(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Bl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function Z1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===K1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Uo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Bl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Uo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Uo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){_r(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new tn(Bl(this.value))}}function J_(s){const e=[];return _r(s.fields,(i,a)=>{const u=new Pe([i]);if(Uo(a)){const h=J_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,yt.min(),yt.min(),yt.min(),tn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,yt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,yt.min(),yt.min(),tn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,yt.min(),yt.min(),tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i){this.position=e,this.inclusive=i}}function zy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=fs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ly(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ei(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,i="asc"){this.field=e,this.dir=i}}function $1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{}class pe extends W_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new W1(e,i,a):i==="array-contains"?new nA(e,a):i==="in"?new iA(e,a):i==="not-in"?new rA(e,a):i==="array-contains-any"?new aA(e,a):new pe(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new tA(e,a):new eA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fs(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(fs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends W_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Mn(e,i)}matches(e){return tv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function tv(s){return s.op==="and"}function ev(s){return J1(s)&&tv(s)}function J1(s){for(const e of s.filters)if(e instanceof Mn)return!1;return!0}function qf(s){if(s instanceof pe)return s.field.canonicalString()+s.op.toString()+ds(s.value);if(ev(s))return s.filters.map(e=>qf(e)).join(",");{const e=s.filters.map(i=>qf(i)).join(",");return`${s.op}(${e})`}}function nv(s,e){return s instanceof pe?function(a,u){return u instanceof pe&&a.op===u.op&&a.field.isEqual(u.field)&&ei(a.value,u.value)}(s,e):s instanceof Mn?function(a,u){return u instanceof Mn&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&nv(d,u.filters[g]),!0):!1}(s,e):void dt(19439)}function iv(s){return s instanceof pe?function(i){return`${i.field.canonicalString()} ${i.op} ${ds(i.value)}`}(s):s instanceof Mn?function(i){return i.op.toString()+" {"+i.getFilters().map(iv).join(" ,")+"}"}(s):"Filter"}class W1 extends pe{constructor(e,i,a){super(e,i,a),this.key=ut.fromName(a.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class tA extends pe{constructor(e,i){super(e,"in",i),this.keys=rv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class eA extends pe{constructor(e,i){super(e,"not-in",i),this.keys=rv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function rv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ut.fromName(a.referenceValue))}class nA extends pe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ud(i)&&Kl(i.arrayValue,this.value)}}class iA extends pe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class rA extends pe{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Kl(this.value.arrayValue,i)}}class aA extends pe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ud(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Py(s,e=null,i=[],a=[],u=null,h=null,d=null){return new sA(s,e,i,a,u,h,d)}function od(s){const e=_t(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>qf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ds(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ds(a)).join(",")),e.Ie=i}return e.Ie}function cd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!$1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!nv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ly(s.startAt,e.startAt)&&Ly(s.endAt,e.endAt)}function kf(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lA(s,e,i,a,u,h,d,g){return new As(s,e,i,a,u,h,d,g)}function hd(s){return new As(s)}function By(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function av(s){return s.collectionGroup!==null}function ql(s){const e=_t(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Pe.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Xl(h,a))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new Xl(Pe.keyField(),a))}return e.Ee}function Jn(s){const e=_t(s);return e.de||(e.de=uA(e,ql(s))),e.de}function uA(s,e){if(s.limitType==="F")return Py(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Xl(u.field,h)});const i=s.endAt?new Fo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Fo(s.startAt.position,s.startAt.inclusive):null;return Py(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function jf(s,e){const i=s.filters.concat([e]);return new As(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Hf(s,e,i){return new As(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function rc(s,e){return cd(Jn(s),Jn(e))&&s.limitType===e.limitType}function sv(s){return`${od(Jn(s))}|lt:${s.limitType}`}function rs(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>iv(u)).join(", ")}]`),nc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ds(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ds(u)).join(",")),`Target(${a})`}(Jn(s))}; limitType=${s.limitType})`}function ac(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ut.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of ql(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,v){const _=zy(d,g,v);return d.inclusive?_<=0:_<0}(a.startAt,ql(a),u)||a.endAt&&!function(d,g,v){const _=zy(d,g,v);return d.inclusive?_>=0:_>0}(a.endAt,ql(a),u))}(s,e)}function oA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function lv(s){return(e,i)=>{let a=!1;for(const u of ql(s)){const h=cA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function cA(s,e,i){const a=s.field.isKeyField()?ut.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?fs(v,_):dt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return G_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new ne(ut.comparator);function Ii(){return hA}const uv=new ne(ut.comparator);function Ul(...s){let e=uv;for(const i of s)e=e.insert(i.key,i);return e}function ov(s){let e=uv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ra(){return kl()}function cv(){return kl()}function kl(){return new ua(s=>s.toString(),(s,e)=>s.isEqual(e))}const fA=new ne(ut.comparator),dA=new Se(ut.comparator);function Dt(...s){let e=dA;for(const i of s)e=e.add(i);return e}const mA=new Se(St);function gA(){return mA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Go(e)?"-0":e}}function hv(s){return{integerValue:""+s}}function pA(s,e){return H1(e)?hv(e):fd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this._=void 0}}function yA(s,e,i){return s instanceof Ko?function(u,h){const d={fields:{[F_]:{stringValue:Y_},[X_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ld(h)&&(h=ic(h)),h&&(d.fields[K_]=h),{mapValue:d}}(i,e):s instanceof Zl?dv(s,e):s instanceof $l?mv(s,e):function(u,h){const d=fv(u,h),g=qy(d)+qy(u.Re);return Bf(d)&&Bf(u.Re)?hv(g):fd(u.serializer,g)}(s,e)}function _A(s,e,i){return s instanceof Zl?dv(s,e):s instanceof $l?mv(s,e):i}function fv(s,e){return s instanceof Xo?function(a){return Bf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Ko extends sc{}class Zl extends sc{constructor(e){super(),this.elements=e}}function dv(s,e){const i=gv(e);for(const a of s.elements)i.some(u=>ei(u,a))||i.push(a);return{arrayValue:{values:i}}}class $l extends sc{constructor(e){super(),this.elements=e}}function mv(s,e){let i=gv(e);for(const a of s.elements)i=i.filter(u=>!ei(u,a));return{arrayValue:{values:i}}}class Xo extends sc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function qy(s){return ce(s.integerValue||s.doubleValue)}function gv(s){return ud(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function vA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Zl&&u instanceof Zl||a instanceof $l&&u instanceof $l?hs(a.elements,u.elements,ei):a instanceof Xo&&u instanceof Xo?ei(a.Re,u.Re):a instanceof Ko&&u instanceof Ko}(s.transform,e.transform)}class EA{constructor(e,i){this.version=e,this.transformResults=i}}class On{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class lc{}function pv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new dd(s.key,On.none()):new Jl(s.key,s.data,On.none());{const i=s.data,a=tn.empty();let u=new Se(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new vr(s.key,a,new fn(u.toArray()),On.none())}}function TA(s,e,i){s instanceof Jl?function(u,h,d){const g=u.value.clone(),v=jy(u.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof vr?function(u,h,d){if(!zo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=jy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(yv(u)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function jl(s,e,i,a){return s instanceof Jl?function(h,d,g,v){if(!zo(h.precondition,d))return g;const _=h.value.clone(),A=Hy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof vr?function(h,d,g,v){if(!zo(h.precondition,d))return g;const _=Hy(h.fieldTransforms,v,d),A=d.data;return A.setAll(yv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(s,e,i,a):function(h,d,g){return zo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function AA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=fv(a.transform,u||null);h!=null&&(i===null&&(i=tn.empty()),i.set(a.field,h))}return i||null}function ky(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&hs(a,u,(h,d)=>vA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Jl extends lc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class vr extends lc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function yv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function jy(s,e,i){const a=new Map;kt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,_A(d,g,i[u]))}return a}function Hy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,yA(h,d,e))}return a}class dd extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SA extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&TA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=jl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=jl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=cv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const v=pv(d,g);v!==null&&a.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&hs(this.mutations,e.mutations,(i,a)=>ky(i,a))&&hs(this.baseMutations,e.baseMutations,(i,a)=>ky(i,a))}}class md{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){kt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let u=function(){return fA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new md(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ot;function CA(s){switch(s){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function _v(s){if(s===void 0)return Vi("GRPC error has no .code"),K.UNKNOWN;switch(s){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:s})}}(Ot=ge||(ge={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new or([4294967295,4294967295],0);function Gy(s){const e=k_().encode(s),i=new M_;return i.update(e),new Uint8Array(i.digest())}function Qy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new or([i,a],0),new or([u,h],0)]}class gd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=or.fromNumber(this.pe)}we(e,i,a){let u=e.add(i.multiply(or.fromNumber(a)));return u.compare(DA)===1&&(u=new or([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Gy(e),[a,u]=Qy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);if(!this.Se(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new gd(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=Gy(e),[a,u]=Qy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new uc(yt.min(),u,new ne(St),Ii(),Dt())}}class Wl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Wl(a,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,i,a,u){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=u}}class vv{constructor(e,i){this.targetId=e,this.Ce=i}}class Ev{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Yy{constructor(){this.Fe=0,this.Me=Fy(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Dt(),i=Dt(),a=Dt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt(38017,{changeType:h})}}),new Wl(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=Fy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class VA{constructor(e){this.ze=e,this.je=new Map,this.He=Ii(),this.Je=No(),this.Ye=No(),this.Ze=new ne(St)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,a=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(kf(h))if(a===0){const d=new ut(h.path);this.tt(i,d,Qe.newNoDocument(d,yt.min()))}else kt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(e),v=g?this.lt(g,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=mr(a).toUint8Array()}catch(v){if(v instanceof Q_)return cs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new gd(d,u,h)}catch(v){return cs(v instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.pe===0?null:g}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&kf(g.target)){const v=new ut(g.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,Qe.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=Dt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new uc(e,i,this.Ze,this.He,a);return this.He=Ii(),this.Je=No(),this.Ye=No(),this.Ze=new ne(St),u}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Yy,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Se(St),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Se(St),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Yy),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function No(){return new ne(ut.comparator)}function Fy(){return new ne(ut.comparator)}const IA={asc:"ASCENDING",desc:"DESCENDING"},NA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OA={and:"AND",or:"OR"};class MA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Gf(s,e){return s.useProto3Json||nc(e)?e:{value:e}}function Zo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function xA(s,e){return Zo(s,e.toTimestamp())}function Wn(s){return kt(!!s,49232),yt.fromTimestamp(function(i){const a=dr(i);return new ye(a.seconds,a.nanos)}(s))}function pd(s,e){return Qf(s,e).canonicalString()}function Qf(s,e){const i=function(u){return new Jt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function Av(s){const e=Jt.fromString(s);return kt(Cv(e),10190,{key:e.toString()}),e}function Yf(s,e){return pd(s.databaseId,e.path)}function Cf(s,e){const i=Av(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(bv(i))}function Sv(s,e){return pd(s.databaseId,e)}function UA(s){const e=Av(s);return e.length===4?Jt.emptyPath():bv(e)}function Ff(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function bv(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Ky(s,e,i){return{name:Yf(s,e),fields:i.value.mapValue.fields}}function zA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(kt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?K.UNKNOWN:_v(_.code);return new rt(A,_.message||"")}(d);i=new Ev(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Cf(s,a.document.name),h=Wn(a.document.updateTime),d=a.document.createTime?Wn(a.document.createTime):yt.min(),g=new tn({mapValue:{fields:a.document.fields}}),v=Qe.newFoundDocument(u,h,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Lo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Cf(s,a.document),h=a.readTime?Wn(a.readTime):yt.min(),d=Qe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new Lo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Cf(s,a.document),h=a.removedTargetIds||[];i=new Lo([],h,u,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new wA(u,h),g=a.targetId;i=new vv(g,d)}}return i}function LA(s,e){let i;if(e instanceof Jl)i={update:Ky(s,e.key,e.value)};else if(e instanceof dd)i={delete:Yf(s,e.key)};else if(e instanceof vr)i={update:Ky(s,e.key,e.data),updateMask:YA(e.fieldMask)};else{if(!(e instanceof SA))return dt(16599,{ft:e.type});i={verify:Yf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Ko)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof $l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Xo)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw dt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:xA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(s,e.precondition)),i}function PA(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?Wn(u.updateTime):Wn(h);return d.isEqual(yt.min())&&(d=Wn(h)),new EA(d,u.transformResults||[])}(i,e))):[]}function BA(s,e){return{documents:[Sv(s,e.path)]}}function qA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Sv(s,u);const h=function(_){if(_.length!==0)return wv(Mn.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(I){return{field:as(I.field),direction:HA(I.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Gf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:u}}function kA(s){let e=UA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){kt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(C){const I=Rv(C);return I instanceof Mn&&ev(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(I=>function(Z){return new Xl(ss(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(I))}(i.orderBy));let g=null;i.limit&&(g=function(C){let I;return I=typeof C=="object"?C.value:C,nc(I)?null:I}(i.limit));let v=null;i.startAt&&(v=function(C){const I=!!C.before,j=C.values||[];return new Fo(j,I)}(i.startAt));let _=null;return i.endAt&&(_=function(C){const I=!C.before,j=C.values||[];return new Fo(j,I)}(i.endAt)),lA(e,u,d,h,g,"F",v,_)}function jA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Rv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ss(i.unaryFilter.field);return pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=ss(i.unaryFilter.field);return pe.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ss(i.unaryFilter.field);return pe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ss(i.unaryFilter.field);return pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(s):s.fieldFilter!==void 0?function(i){return pe.create(ss(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Mn.create(i.compositeFilter.filters.map(a=>Rv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(s):dt(30097,{filter:s})}function HA(s){return IA[s]}function GA(s){return NA[s]}function QA(s){return OA[s]}function as(s){return{fieldPath:s.canonicalString()}}function ss(s){return Pe.fromServerFormat(s.fieldPath)}function wv(s){return s instanceof pe?function(i){if(i.op==="=="){if(Uy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NAN"}};if(xy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NOT_NAN"}};if(xy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(i.field),op:GA(i.op),value:i.value}}}(s):s instanceof Mn?function(i){const a=i.getFilters().map(u=>wv(u));return a.length===1?a[0]:{compositeFilter:{op:QA(i.op),filters:a}}}(s):dt(54877,{filter:s})}function YA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Cv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,i,a,u,h=yt.min(),d=yt.min(),g=Be.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.wt=e}}function KA(s){const e=kA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.Cn=new ZA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(fr.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class ZA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Se(Jt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Se(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dv=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(Dv,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ms(0)}static lr(){return new ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LruGarbageCollector",$A=1048576;function $y([s,e],[i,a]){const u=St(s,i);return u===0?St(e,a):u}class JA{constructor(e){this.Er=e,this.buffer=new Se($y),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();$y(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class WA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){it(Zy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ts(i)?it(Zy,"Ignoring IndexedDB error during garbage collection: ",i):await Es(i)}await this.mr(3e5)})}}class tS{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(ec.le);const a=new JA(i);return this.gr.forEachTarget(e,u=>a.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>a.Rr(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Xy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xy):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,u,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(e,u))).next(C=>(a=C,g=Date.now(),this.removeTargets(e,a,i))).next(C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(C=>(_=Date.now(),is()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${C} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C})))}}function eS(s,e){return new tS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.changes=new ua(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&jl(a.mutation,u,fn.empty(),ye.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Dt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Dt()){const u=ra();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ul();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ra();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Dt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=Ii();const d=kl(),g=function(){return kl()}();return i.forEach((v,_)=>{const A=a.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof vr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),jl(A.mutation,_,A.mutation.getFieldMask(),ye.now())):d.set(_.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var C;return g.set(_,new iS(A,(C=d.get(_))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,i){const a=kl();let u=new ne((d,g)=>d-g),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||fn.empty();A=g.applyToLocalView(_,A),a.set(v,A);const C=(u.get(g.batchId)||Dt()).add(v);u=u.insert(g.batchId,C)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,C=cv();A.forEach(I=>{if(!h.has(I)){const j=pv(i.get(I),a.get(I));j!==null&&C.set(I,j),h=h.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return F.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):av(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):F.resolve(ra());let g=Ql,v=h;return d.next(_=>F.forEach(_,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{v=v.insert(A,I)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Dt())).next(A=>({batchId:g,changes:ov(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next(a=>{let u=Ul();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(e,h).next(g=>F.forEach(g,v=>{const _=function(C,I){return new As(I,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,u).next(A=>{A.forEach((C,I)=>{d=d.insert(C,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=Ul();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&jl(A.mutation,_,fn.empty(),ye.now()),ac(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return F.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Wn(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:KA(u.bundledQuery),readTime:Wn(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.overlays=new ne(ut.comparator),this.Qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ra();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.bt(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const u=ra(),h=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&u.set(v.getKey(),v)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ne((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=ra(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ra(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=u)););return F.resolve(g)}bt(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(a.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new RA(i,a));let h=this.Qr.get(i);h===void 0&&(h=Dt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.$r=new Se(Ie.Ur),this.Kr=new Se(Ie.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Ie(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new ut(new Jt([])),a=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.Kr.forEachInRange([a,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ut(new Jt([])),a=new Ie(i,e),u=new Ie(i,e+1);let h=Dt();return this.Kr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ut.comparator(e.key,i.key)||St(e.Zr,i.Zr)}static Wr(e,i){return St(e.Zr,i.Zr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Se(Ie.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Xr=this.Xr.add(new Ie(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ti(a),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?sd:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,u],d=>{const g=this.ei(d.Zr);h.push(g)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(St);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{a=a.add(g.Zr)})}),F.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ut.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ut(h),0);let g=new Se(St);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Zr)),!0)},d),F.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(a=>{const u=this.ei(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){kt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return F.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Ie(i,0),u=this.Xr.firstAfterOrEqual(a);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.ii=e,this.docs=function(){return new ne(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ii();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ii();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||B1(P1(A),a)<=0||(u.has(A.key)||ac(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt(9500)}si(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new cS(this)}getSize(e){return F.resolve(this.size)}}class cS extends nS{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.persistence=e,this.oi=new ua(i=>od(i),cd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this._i=0,this.ai=new yd,this.targetCount=0,this.ui=ms.cr()}forEachTarget(e,i){return this.oi.forEach((a,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),F.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ms(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Tr(i),F.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i){this.ci={},this.overlays={},this.li=new ec(0),this.hi=!1,this.hi=!0,this.Pi=new lS,this.referenceDelegate=e(this),this.Ti=new hS(this),this.indexManager=new XA,this.remoteDocumentCache=function(u){return new oS(u)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new FA(i),this.Ei=new aS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new sS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new uS(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new fS(this.li.next());return this.referenceDelegate.di(),a(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return F.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class fS extends k1{constructor(e){super(),this.currentSequenceNumber=e}}class _d{constructor(e){this.persistence=e,this.Vi=new yd,this.mi=null}static fi(e){return new _d(e)}get gi(){if(this.mi)return this.mi;throw dt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,a=>{const u=ut.fromPath(a);return this.pi(e,u).next(h=>{h||i.removeEntry(u,yt.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return F.or([()=>F.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class $o{constructor(e,i){this.persistence=e,this.yi=new ua(a=>G1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=eS(this,i)}static fi(e,i){return new $o(e,i)}di(){}Ai(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}Sr(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return F.forEach(this.yi,(a,u)=>this.Dr(e,a,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=xo(e.data.value)),i}Dr(e,i,a){return F.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return F.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.ds=a,this.As=u}static Rs(e,i){let a=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new vd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return uT()?8:j1(sT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new dS;return this.bs(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,a,u){return a.documentReadCount<this.gs?(is()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(is()<=xt.DEBUG&&it("QueryEngine","Query:",rs(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ps*u?(is()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):F.resolve())}ws(e,i){if(By(i))return F.resolve(null);let a=Jn(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Hf(i,null,"F"),a=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Dt(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.vs(i,g);return this.Cs(i,_,d,v.readTime)?this.ws(e,Hf(i,null,"F")):this.Fs(e,_,i,v)}))})))}Ss(e,i,a,u){return By(i)||u.isEqual(yt.min())?F.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,u)?F.resolve(null):(is()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),rs(i)),this.Fs(e,d,i,L1(u,Ql)).next(g=>g))})}vs(e,i){let a=new Se(lv(e));return i.forEach((u,h)=>{ac(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(e,i,a){return is()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",rs(i)),this.ys.getDocumentsMatchingQuery(e,i,fr.min(),a)}Fs(e,i,a,u){return this.ys.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="LocalStore",gS=3e8;class pS{constructor(e,i,a,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ne(St),this.Os=new ua(h=>od(h),cd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function yS(s,e,i,a){return new pS(s,e,i,a)}async function Iv(s,e){const i=_t(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let v=Dt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function _S(s,e){const i=_t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const C=_.batch,I=C.keys();let j=F.resolve();return I.forEach(Z=>{j=j.next(()=>A.getEntry(v,Z)).next(nt=>{const $=_.docVersions.get(Z);kt($!==null,48541),nt.version.compareTo($)<0&&(C.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(v,C))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let v=Dt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Nv(s){const e=_t(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function vS(s,e){const i=_t(s),a=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const g=[];e.targetChanges.forEach((A,C)=>{const I=u.get(C);if(!I)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,C).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,C)));let j=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,a)),u=u.insert(C,j),function(nt,$,Et){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=gS?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(I,j,A)&&g.push(i.Ti.updateTargetData(h,j))});let v=Ii(),_=Dt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(ES(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!a.isEqual(yt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(C=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return F.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=u,h))}function ES(s,e,i){let a=Dt(),u=Dt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ii();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):it(Ed,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:u}})}function TS(s,e){const i=_t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=sd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function AS(s,e){const i=_t(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ti.getTargetData(a,e).next(h=>h?(u=h,F.resolve(u)):i.Ti.allocateTargetId(a).next(d=>(u=new sr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.xs.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function Kf(s,e,i){const a=_t(s),u=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ts(d))throw d;it(Ed,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(u.target)}function Jy(s,e,i){const a=_t(s);let u=yt.min(),h=Dt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const C=_t(v),I=C.Os.get(A);return I!==void 0?F.resolve(C.xs.get(I)):C.Ti.getTargetData(_,A)}(a,d,Jn(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Dt())).next(g=>(SS(a,oA(e),g),{documents:g,$s:h})))}function SS(s,e,i){let a=s.Ns.get(e)||yt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class Wy{constructor(){this.activeTargetIds=gA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bS{constructor(){this.xo=new Wy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Wy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="ConnectivityMonitor";class e_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(t_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){it(t_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo=null;function Xf(){return Oo===null?Oo=function(){return 268435456+Math.round(2147483648*Math.random())}():Oo++,"0x"+Oo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",wS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${u}`,this.Go=this.databaseId.database===Qo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}zo(e,i,a,u,h){const d=Xf(),g=this.jo(e,i.toUriEncodedString());it(Df,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,u,h);const{host:_}=new URL(g),A=id(_);return this.Jo(e,g,v,a,A).then(C=>(it(Df,`Received RPC '${e}' ${d}: `,C),C),C=>{throw cs(Df,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",a),C})}Yo(e,i,a,u,h,d){return this.zo(e,i,a,u,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const a=wS[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class VS extends CS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Xf();return new Promise((g,v)=>{const _=new x_;_.setWithCredentials(!0),_.listenOnce(U_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Mo.NO_ERROR:const C=_.getResponseJson();it(He,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case Mo.TIMEOUT:it(He,`RPC '${e}' ${d} timed out`),v(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const I=_.getStatus();if(it(He,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const Z=j==null?void 0:j.error;if(Z&&Z.status&&Z.message){const nt=function(Et){const gt=Et.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN}(Z.status);v(new rt(nt,Z.message))}else v(new rt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new rt(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(He,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(He,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,a,15)})}T_(e,i,a){const u=Xf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=P_(),g=L_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${A}`,v);const C=d.createWebChannel(A,v);let I=!1,j=!1;const Z=new DS({Zo:$=>{j?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(I||(it(He,`Opening RPC '${e}' stream ${u} transport.`),C.open(),I=!0),it(He,`RPC '${e}' stream ${u} sending:`,$),C.send($))},Xo:()=>C.close()}),nt=($,Et,gt)=>{$.listen(Et,ft=>{try{gt(ft)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return nt(C,xl.EventType.OPEN,()=>{j||(it(He,`RPC '${e}' stream ${u} transport opened.`),Z.__())}),nt(C,xl.EventType.CLOSE,()=>{j||(j=!0,it(He,`RPC '${e}' stream ${u} transport closed`),Z.u_())}),nt(C,xl.EventType.ERROR,$=>{j||(j=!0,cs(He,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),Z.u_(new rt(K.UNAVAILABLE,"The operation could not be completed")))}),nt(C,xl.EventType.MESSAGE,$=>{var Et;if(!j){const gt=$.data[0];kt(!!gt,16349);const ft=gt,Ut=(ft==null?void 0:ft.error)||((Et=ft[0])===null||Et===void 0?void 0:Et.error);if(Ut){it(He,`RPC '${e}' stream ${u} received error:`,Ut);const vt=Ut.status;let Lt=function(w){const N=ge[w];if(N!==void 0)return _v(N)}(vt),O=Ut.message;Lt===void 0&&(Lt=K.INTERNAL,O="Unknown error status: "+vt+" with message "+Ut.message),j=!0,Z.u_(new rt(Lt,O)),C.close()}else it(He,`RPC '${e}' stream ${u} received:`,gt),Z.c_(gt)}}),nt(g,z_.STAT_EVENT,$=>{$.stat===zf.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===zf.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(s){return new MA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,i,a=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=a,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="PersistentStream";class Mv{constructor(e,i,a,u,h,d,g,v){this.xi=e,this.y_=a,this.w_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Ov(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.S_===i&&this.K_(a,u)},a=>{e(()=>{const u=new rt(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(u)})})}K_(e,i){const a=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{a(()=>this.W_(u))}),this.stream.onMessage(u=>{a(()=>++this.v_==1?this.z_(u):this.onNext(u))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return it(n_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(it(n_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IS extends Mv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=zA(this.serializer,e),a=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Wn(d.readTime):yt.min()}(e);return this.listener.j_(i,a)}H_(e){const i={};i.database=Ff(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=kf(v)?{documents:BA(h,v)}:{query:qA(h,v).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Tv(h,d.resumeToken);const _=Gf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Zo(h,d.snapshotVersion.toTimestamp());const _=Gf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const a=jA(this.serializer,e);a&&(i.labels=a),this.L_(i)}J_(e){const i={};i.database=Ff(this.serializer),i.removeTarget=e,this.L_(i)}}class NS extends Mv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=PA(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.ea(a,i)}ta(){const e={};e.database=Ff(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>LA(this.serializer,a))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{}class MS extends OS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.na=!1}ra(){if(this.na)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Qf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(K.UNKNOWN,h.toString())})}Yo(e,i,a,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Qf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class xS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Vi(i),this.oa=!1):it("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class US{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{a.enqueueAndForget(async()=>{oa(this)&&(it(la,"Restarting streams for network reachability change."),await async function(v){const _=_t(v);_.Ta.add(4),await tu(_),_.da.set("Unknown"),_.Ta.delete(4),await cc(_)}(this))})}),this.da=new xS(a,u)}}async function cc(s){if(oa(s))for(const e of s.Ia)await e(!0)}async function tu(s){for(const e of s.Ia)await e(!1)}function xv(s,e){const i=_t(s);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),bd(i)?Sd(i):Ss(i).M_()&&Ad(i,e))}function Td(s,e){const i=_t(s),a=Ss(i);i.Pa.delete(e),a.M_()&&Uv(i,e),i.Pa.size===0&&(a.M_()?a.N_():oa(i)&&i.da.set("Unknown"))}function Ad(s,e){if(s.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ss(s).H_(e)}function Uv(s,e){s.Aa.Ke(e),Ss(s).J_(e)}function Sd(s){s.Aa=new VA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Pa.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),Ss(s).start(),s.da._a()}function bd(s){return oa(s)&&!Ss(s).F_()&&s.Pa.size>0}function oa(s){return _t(s).Ta.size===0}function zv(s){s.Aa=void 0}async function zS(s){s.da.set("Online")}async function LS(s){s.Pa.forEach((e,i)=>{Ad(s,e)})}async function PS(s,e){zv(s),bd(s)?(s.da.ca(e),Sd(s)):s.da.set("Unknown")}async function BS(s,e,i){if(s.da.set("Online"),e instanceof Ev&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Pa.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Pa.delete(g),u.Aa.removeTarget(g))}(s,e)}catch(a){it(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Jo(s,a)}else if(e instanceof Lo?s.Aa.Xe(e):e instanceof vv?s.Aa.ot(e):s.Aa.nt(e),!i.isEqual(yt.min()))try{const a=await Nv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.Aa.It(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Pa.get(_);A&&h.Pa.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.Pa.get(v);if(!A)return;h.Pa.set(v,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),Uv(h,v);const C=new sr(A.target,v,_,A.sequenceNumber);Ad(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){it(la,"Failed to raise snapshot:",a),await Jo(s,a)}}async function Jo(s,e,i){if(!Ts(e))throw e;s.Ta.add(1),await tu(s),s.da.set("Offline"),i||(i=()=>Nv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(la,"Retrying IndexedDB access"),await i(),s.Ta.delete(1),await cc(s)})}function Lv(s,e){return e().catch(i=>Jo(s,i,e))}async function hc(s){const e=_t(s),i=pr(e);let a=e.ha.length>0?e.ha[e.ha.length-1].batchId:sd;for(;qS(e);)try{const u=await TS(e.localStore,a);if(u===null){e.ha.length===0&&i.N_();break}a=u.batchId,kS(e,u)}catch(u){await Jo(e,u)}Pv(e)&&Bv(e)}function qS(s){return oa(s)&&s.ha.length<10}function kS(s,e){s.ha.push(e);const i=pr(s);i.M_()&&i.Y_&&i.Z_(e.mutations)}function Pv(s){return oa(s)&&!pr(s).F_()&&s.ha.length>0}function Bv(s){pr(s).start()}async function jS(s){pr(s).ta()}async function HS(s){const e=pr(s);for(const i of s.ha)e.Z_(i.mutations)}async function GS(s,e,i){const a=s.ha.shift(),u=md.from(a,e,i);await Lv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await hc(s)}async function QS(s,e){e&&pr(s).Y_&&await async function(a,u){if(function(d){return CA(d)&&d!==K.ABORTED}(u.code)){const h=a.ha.shift();pr(a).O_(),await Lv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await hc(a)}}(s,e),Pv(s)&&Bv(s)}async function i_(s,e){const i=_t(s);i.asyncQueue.verifyOperationInProgress(),it(la,"RemoteStore received new credentials");const a=oa(i);i.Ta.add(3),await tu(i),a&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await cc(i)}async function YS(s,e){const i=_t(s);e?(i.Ta.delete(2),await cc(i)):e||(i.Ta.add(2),await tu(i),i.da.set("Unknown"))}function Ss(s){return s.Ra||(s.Ra=function(i,a,u){const h=_t(i);return h.ra(),new IS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:zS.bind(null,s),n_:LS.bind(null,s),i_:PS.bind(null,s),j_:BS.bind(null,s)}),s.Ia.push(async e=>{e?(s.Ra.O_(),bd(s)?Sd(s):s.da.set("Unknown")):(await s.Ra.stop(),zv(s))})),s.Ra}function pr(s){return s.Va||(s.Va=function(i,a,u){const h=_t(i);return h.ra(),new NS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:jS.bind(null,s),i_:QS.bind(null,s),X_:HS.bind(null,s),ea:GS.bind(null,s)}),s.Ia.push(async e=>{e?(s.Va.O_(),await hc(s)):(await s.Va.stop(),s.ha.length>0&&(it(la,`Stopping write stream with ${s.ha.length} pending writes`),s.ha=[]))})),s.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new Rd(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wd(s,e){if(Vi("AsyncQueue",`${e}: ${s}`),Ts(s))return new rt(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{static emptySet(e){return new os(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=Ul(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof os)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new os;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.ma=new ne(ut.comparator)}track(e){const i=e.doc.key,a=this.ma.get(i);a?e.type!==0&&a.type===3?this.ma=this.ma.insert(i,e):e.type===3&&a.type!==1?this.ma=this.ma.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ma=this.ma.remove(i):e.type===1&&a.type===2?this.ma=this.ma.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):dt(63341,{Vt:e,fa:a}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,a)=>{e.push(a)}),e}}class gs{constructor(e,i,a,u,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new gs(e,i,os.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class KS{constructor(){this.queries=a_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,a){const u=_t(i),h=u.queries;u.queries=a_(),h.forEach((d,g)=>{for(const v of g.ya)v.onError(a)})})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function a_(){return new ua(s=>sv(s),rc)}async function XS(s,e){const i=_t(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.wa()&&e.Sa()&&(a=2):(h=new FS,a=e.Sa()?0:1);try{switch(a){case 0:h.pa=await i.onListen(u,!0);break;case 1:h.pa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=wd(d,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&Cd(i)}async function ZS(s,e){const i=_t(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?u=e.Sa()?0:1:!h.wa()&&e.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $S(s,e){const i=_t(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ya)g.va(u)&&(a=!0);d.pa=u}}a&&Cd(i)}function JS(s,e,i){const a=_t(s),u=a.queries.get(e);if(u)for(const h of u.ya)h.onError(i);a.queries.delete(e)}function Cd(s){s.ba.forEach(e=>{e.next()})}var Zf,s_;(s_=Zf||(Zf={})).Ca="default",s_.Cache="cache";class WS{constructor(e,i,a){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new gs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const a=i!=="Offline";return(!this.options.La||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Zf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.key=e}}class kv{constructor(e){this.key=e}}class tb{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Dt(),this.mutatedKeys=Dt(),this.Ha=lv(e),this.Ja=new os(this.Ha)}get Ya(){return this.Ga}Za(e,i){const a=i?i.Xa:new r_,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,C)=>{const I=u.get(A),j=ac(this.query,C)?C:null,Z=!!I&&this.mutatedKeys.has(I.key),nt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;I&&j?I.data.isEqual(j.data)?Z!==nt&&(a.track({type:3,doc:j}),$=!0):this.eu(I,j)||(a.track({type:2,doc:j}),$=!0,(v&&this.Ha(j,v)>0||_&&this.Ha(j,_)<0)&&(g=!0)):!I&&j?(a.track({type:0,doc:j}),$=!0):I&&!j&&(a.track({type:1,doc:I}),$=!0,(v||_)&&(g=!0)),$&&(j?(d=d.add(j),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Ja:d,Xa:a,Cs:g,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,C)=>function(j,Z){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:$})}};return nt(j)-nt(Z)}(A.type,C.type)||this.Ha(A.doc,C.doc)),this.tu(a),u=u!=null&&u;const g=i&&!u?this.nu():[],v=this.ja.size===0&&this.current&&!u?1:0,_=v!==this.za;return this.za=v,d.length!==0||_?{snapshot:new gs(this.query,e.Ja,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new r_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Dt(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const i=[];return e.forEach(a=>{this.ja.has(a)||i.push(new kv(a))}),this.ja.forEach(a=>{e.has(a)||i.push(new qv(a))}),i}su(e){this.Ga=e.$s,this.ja=Dt();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return gs.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Dd="SyncEngine";class eb{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class nb{constructor(e){this.key=e,this._u=!1}}class ib{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new ua(g=>sv(g),rc),this.cu=new Map,this.lu=new Set,this.hu=new ne(ut.comparator),this.Pu=new Map,this.Tu=new yd,this.Iu={},this.Eu=new Map,this.du=ms.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function rb(s,e,i=!0){const a=Fv(s);let u;const h=a.uu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=await jv(a,e,i,!0),u}async function ab(s,e){const i=Fv(s);await jv(i,e,!0,!1)}async function jv(s,e,i,a){const u=await AS(s.localStore,Jn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await sb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&xv(s.remoteStore,u),g}async function sb(s,e,i,a,u){s.Ru=(C,I,j)=>async function(nt,$,Et,gt){let ft=$.view.Za(Et);ft.Cs&&(ft=await Jy(nt.localStore,$.query,!1).then(({documents:O})=>$.view.Za(O,ft)));const Ut=gt&&gt.targetChanges.get($.targetId),vt=gt&&gt.targetMismatches.get($.targetId)!=null,Lt=$.view.applyChanges(ft,nt.isPrimaryClient,Ut,vt);return u_(nt,$.targetId,Lt.ru),Lt.snapshot}(s,C,I,j);const h=await Jy(s.localStore,e,!0),d=new tb(e,h.$s),g=d.Za(h.documents),v=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),_=d.applyChanges(g,s.isPrimaryClient,v);u_(s,i,_.ru);const A=new eb(e,i,d);return s.uu.set(e,A),s.cu.has(i)?s.cu.get(i).push(e):s.cu.set(i,[e]),_.snapshot}async function lb(s,e,i){const a=_t(s),u=a.uu.get(e),h=a.cu.get(u.targetId);if(h.length>1)return a.cu.set(u.targetId,h.filter(d=>!rc(d,e))),void a.uu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Kf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Td(a.remoteStore,u.targetId),$f(a,u.targetId)}).catch(Es)):($f(a,u.targetId),await Kf(a.localStore,u.targetId,!0))}async function ub(s,e){const i=_t(s),a=i.uu.get(e),u=i.cu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Td(i.remoteStore,a.targetId))}async function ob(s,e,i){const a=pb(s);try{const u=await function(d,g){const v=_t(d),_=ye.now(),A=g.reduce((j,Z)=>j.add(Z.key),Dt());let C,I;return v.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Z=Ii(),nt=Dt();return v.Bs.getEntries(j,A).next($=>{Z=$,Z.forEach((Et,gt)=>{gt.isValidDocument()||(nt=nt.add(Et))})}).next(()=>v.localDocuments.getOverlayedDocuments(j,Z)).next($=>{C=$;const Et=[];for(const gt of g){const ft=AA(gt,C.get(gt.key).overlayedDocument);ft!=null&&Et.push(new vr(gt.key,ft,J_(ft.value.mapValue),On.exists(!0)))}return v.mutationQueue.addMutationBatch(j,_,Et,g)}).next($=>{I=$;const Et=$.applyToLocalDocumentSet(C,nt);return v.documentOverlayCache.saveOverlays(j,$.batchId,Et)})}).then(()=>({batchId:I.batchId,changes:ov(C)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,v){let _=d.Iu[d.currentUser.toKey()];_||(_=new ne(St)),_=_.insert(g,v),d.Iu[d.currentUser.toKey()]=_}(a,u.batchId,i),await eu(a,u.changes),await hc(a.remoteStore)}catch(u){const h=wd(u,"Failed to persist write");i.reject(h)}}async function Hv(s,e){const i=_t(s);try{const a=await vS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Pu.get(h);d&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d._u=!0:u.modifiedDocuments.size>0?kt(d._u,14607):u.removedDocuments.size>0&&(kt(d._u,42227),d._u=!1))}),await eu(i,a,e)}catch(a){await Es(a)}}function l_(s,e,i){const a=_t(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.uu.forEach((h,d)=>{const g=d.view.Da(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const v=_t(d);v.onlineState=g;let _=!1;v.queries.forEach((A,C)=>{for(const I of C.ya)I.Da(g)&&(_=!0)}),_&&Cd(v)}(a.eventManager,e),u.length&&a.au.j_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function cb(s,e,i){const a=_t(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Pu.get(e),h=u&&u.key;if(h){let d=new ne(ut.comparator);d=d.insert(h,Qe.newNoDocument(h,yt.min()));const g=Dt().add(h),v=new uc(yt.min(),new Map,new ne(St),d,g);await Hv(a,v),a.hu=a.hu.remove(h),a.Pu.delete(e),Vd(a)}else await Kf(a.localStore,e,!1).then(()=>$f(a,e,i)).catch(Es)}async function hb(s,e){const i=_t(s),a=e.batch.batchId;try{const u=await _S(i.localStore,e);Qv(i,a,null),Gv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eu(i,u)}catch(u){await Es(u)}}async function fb(s,e,i){const a=_t(s);try{const u=await function(d,g){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(C=>(kt(C!==null,37113),A=C.keys(),v.mutationQueue.removeMutationBatch(_,C))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(a.localStore,e);Qv(a,e,i),Gv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await eu(a,u)}catch(u){await Es(u)}}function Gv(s,e){(s.Eu.get(e)||[]).forEach(i=>{i.resolve()}),s.Eu.delete(e)}function Qv(s,e,i){const a=_t(s);let u=a.Iu[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Iu[a.currentUser.toKey()]=u}}function $f(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.cu.get(e))s.uu.delete(a),i&&s.au.Vu(a,i);s.cu.delete(e),s.isPrimaryClient&&s.Tu.Hr(e).forEach(a=>{s.Tu.containsKey(a)||Yv(s,a)})}function Yv(s,e){s.lu.delete(e.path.canonicalString());const i=s.hu.get(e);i!==null&&(Td(s.remoteStore,i),s.hu=s.hu.remove(e),s.Pu.delete(i),Vd(s))}function u_(s,e,i){for(const a of i)a instanceof qv?(s.Tu.addReference(a.key,e),db(s,a)):a instanceof kv?(it(Dd,"Document no longer in limbo: "+a.key),s.Tu.removeReference(a.key,e),s.Tu.containsKey(a.key)||Yv(s,a.key)):dt(19791,{mu:a})}function db(s,e){const i=e.key,a=i.path.canonicalString();s.hu.get(i)||s.lu.has(a)||(it(Dd,"New document in limbo: "+i),s.lu.add(a),Vd(s))}function Vd(s){for(;s.lu.size>0&&s.hu.size<s.maxConcurrentLimboResolutions;){const e=s.lu.values().next().value;s.lu.delete(e);const i=new ut(Jt.fromString(e)),a=s.du.next();s.Pu.set(a,new nb(i)),s.hu=s.hu.insert(i,a),xv(s.remoteStore,new sr(Jn(hd(i.path)),a,"TargetPurposeLimboResolution",ec.le))}}async function eu(s,e,i){const a=_t(s),u=[],h=[],d=[];a.uu.isEmpty()||(a.uu.forEach((g,v)=>{d.push(a.Ru(v,e,i).then(_=>{var A;if((_||i)&&a.isPrimaryClient){const C=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(_){u.push(_);const C=vd.Rs(v.targetId,_);h.push(C)}}))}),await Promise.all(d),a.au.j_(u),await async function(v,_){const A=_t(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>F.forEach(_,I=>F.forEach(I.ds,j=>A.persistence.referenceDelegate.addReference(C,I.targetId,j)).next(()=>F.forEach(I.As,j=>A.persistence.referenceDelegate.removeReference(C,I.targetId,j)))))}catch(C){if(!Ts(C))throw C;it(Ed,"Failed to update sequence numbers: "+C)}for(const C of _){const I=C.targetId;if(!C.fromCache){const j=A.xs.get(I),Z=j.snapshotVersion,nt=j.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(I,nt)}}}(a.localStore,h))}async function mb(s,e){const i=_t(s);if(!i.currentUser.isEqual(e)){it(Dd,"User change. New user:",e.toKey());const a=await Iv(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(g=>{g.forEach(v=>{v.reject(new rt(K.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await eu(i,a.ks)}}function gb(s,e){const i=_t(s),a=i.Pu.get(e);if(a&&a._u)return Dt().add(a.key);{let u=Dt();const h=i.cu.get(e);if(!h)return u;for(const d of h){const g=i.uu.get(d);u=u.unionWith(g.view.Ya)}return u}}function Fv(s){const e=_t(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cb.bind(null,e),e.au.j_=$S.bind(null,e.eventManager),e.au.Vu=JS.bind(null,e.eventManager),e}function pb(s){const e=_t(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fb.bind(null,e),e}class Wo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return yS(this.persistence,new mS,e.initialUser,this.serializer)}yu(e){return new Vv(_d.fi,this.serializer)}pu(e){return new bS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wo.provider={build:()=>new Wo};class yb extends Wo{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){kt(this.persistence.referenceDelegate instanceof $o,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new WA(a,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new Vv(a=>$o.fi(a,i),this.serializer)}}class Jf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>l_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=mb.bind(null,this.syncEngine),await YS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KS}()}createDatastore(e){const i=oc(e.databaseInfo.databaseId),a=function(h){return new VS(h)}(e.databaseInfo);return function(h,d,g,v){return new MS(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new US(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>l_(this.syncEngine,i,0),function(){return e_.C()?new e_:new RS}())}createSyncEngine(e,i){return function(u,h,d,g,v,_,A){const C=new ib(u,h,d,g,v,_);return A&&(C.Au=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=_t(u);it(la,"RemoteStore shutting down."),h.Ta.add(5),await tu(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Jf.provider={build:()=>new Jf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class vb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=j_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=wd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function If(s,e){s.asyncQueue.verifyOperationInProgress(),it(yr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await Iv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function o_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Eb(s);it(yr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>i_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>i_(e.remoteStore,u)),s._onlineComponents=e}async function Eb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(yr,"Using user provided OfflineComponentProvider");try{await If(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;cs("Error using user provided cache. Falling back to memory cache: "+i),await If(s,new Wo)}}else it(yr,"Using default OfflineComponentProvider"),await If(s,new yb(void 0));return s._offlineComponents}async function Kv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(yr,"Using user provided OnlineComponentProvider"),await o_(s,s._uninitializedComponentsProvider._online)):(it(yr,"Using default OnlineComponentProvider"),await o_(s,new Jf))),s._onlineComponents}function Tb(s){return Kv(s).then(e=>e.syncEngine)}async function c_(s){const e=await Kv(s),i=e.eventManager;return i.onListen=rb.bind(null,e.syncEngine),i.onUnlisten=lb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ab.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ub.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(s,e,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Ab(s,e,i,a){if(e===!0&&a===!0)throw new rt(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function f_(s){if(!ut.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function d_(s){if(ut.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function fc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function cr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(s);throw new rt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="firestore.googleapis.com",m_=!0;class g_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$v,this.ssl=m_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:m_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$A)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ab("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new D1;switch(a.type){case"firstParty":return new O1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,R_("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=h_.get(i);a&&(it("ComponentProvider","Removing Datastore"),h_.delete(i),a.terminate())}(this),Promise.resolve()}}function Sb(s,e,i,a={}){var u;s=cr(s,dc);const h=id(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;d.host!==$v&&d.host!==v&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:a});if(!ko(_,g)&&(s._setSettings(_),h&&(nT(`https://${v}`),R_("Firestore",!0)),a.mockUserToken)){let A,C;if(typeof a.mockUserToken=="string")A=a.mockUserToken,C=Ge.MOCK_USER;else{A=iT(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ge(I)}s._authCredentials=new V1(new q_(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class en{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class hr extends ca{constructor(e,i,a){super(e,i,hd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ut(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function Jv(s,e,...i){if(s=ti(s),Zv("collection","path",e),s instanceof dc){const a=Jt.fromString(e,...i);return d_(a),new hr(s,null,a)}{if(!(s instanceof en||s instanceof hr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return d_(a),new hr(s.firestore,null,a)}}function Wf(s,e,...i){if(s=ti(s),arguments.length===1&&(e=j_.newId()),Zv("doc","path",e),s instanceof dc){const a=Jt.fromString(e,...i);return f_(a),new en(s,null,new ut(a))}{if(!(s instanceof en||s instanceof hr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return f_(a),new en(s.firestore,s instanceof hr?s.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="AsyncQueue";class y_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Ov(this,"async_queue_retry"),this.ec=()=>{const a=Vf();a&&it(p_,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=e;const i=Vf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Vf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new aa;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ts(e))throw e;it(p_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(a=>{throw this.Ju=a,this.Yu=!1,Vi("INTERNAL UNHANDLED ERROR: ",__(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=i,i}enqueueAfterDelay(e,i,a){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const u=Rd.createAndSchedule(this,e,i,a,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&dt(47125,{_c:__(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function __(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class ps extends dc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new y_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y_(e),this._firestoreClient=void 0,await e}}}function bb(s,e){const i=typeof s=="object"?s:g1(),a=typeof s=="string"?s:Qo,u=c1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=tT("firestore");h&&Sb(u,...h)}return u}function Wv(s){if(s._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Rb(s),s._firestoreClient}function Rb(s){var e,i,a;const u=s._freezeSettings(),h=function(g,v,_,A){return new F1(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Xv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new vb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(Be.fromBase64String(e))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ys(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=/^__.*__$/;class Cb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(e,this.data,i,this.fieldTransforms)}}class t0{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new vr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function e0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{hc:s})}}class Md{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Md(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:a,Ec:!1});return u.dc(e),u}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:a,Ec:!1});return u.Pc(),u}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return tc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(e0(this.hc)&&wb.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Db{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||oc(e)}gc(e,i,a,u=!1){return new Md({hc:e,methodName:i,fc:a,path:Pe.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(s){const e=s._freezeSettings(),i=oc(s._databaseId);return new Db(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Vb(s,e,i,a,u,h={}){const d=s.gc(h.merge||h.mergeFields?2:0,e,i,u);Ud("Data must be an object, but it was:",d,a);const g=n0(a,d);let v,_;if(h.merge)v=new fn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const I=td(e,C,i);if(!d.contains(I))throw new rt(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);r0(A,I)||A.push(I)}v=new fn(A),_=d.fieldTransforms.filter(C=>v.covers(C.field))}else v=null,_=d.fieldTransforms;return new Cb(new tn(g),v,_)}class gc extends Id{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gc}}function Ib(s,e,i,a){const u=s.gc(1,e,i);Ud("Data must be an object, but it was:",u,a);const h=[],d=tn.empty();_r(a,(v,_)=>{const A=zd(e,v,i);_=ti(_);const C=u.Ac(A);if(_ instanceof gc)h.push(A);else{const I=nu(_,C);I!=null&&(h.push(A),d.set(A,I))}});const g=new fn(h);return new t0(d,g,u.fieldTransforms)}function Nb(s,e,i,a,u,h){const d=s.gc(1,e,i),g=[td(e,a,i)],v=[u];if(h.length%2!=0)throw new rt(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)g.push(td(e,h[I])),v.push(h[I+1]);const _=[],A=tn.empty();for(let I=g.length-1;I>=0;--I)if(!r0(_,g[I])){const j=g[I];let Z=v[I];Z=ti(Z);const nt=d.Ac(j);if(Z instanceof gc)_.push(j);else{const $=nu(Z,nt);$!=null&&(_.push(j),A.set(j,$))}}const C=new fn(_);return new t0(A,C,d.fieldTransforms)}function Ob(s,e,i,a=!1){return nu(i,s.gc(a?4:3,e))}function nu(s,e){if(i0(s=ti(s)))return Ud("Unsupported field value:",e,s),n0(s,e);if(s instanceof Id)return function(a,u){if(!e0(u.hc))throw u.Vc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let v=nu(g,u.Rc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=ti(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return pA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ye.fromDate(a);return{timestampValue:Zo(u.serializer,h)}}if(a instanceof ye){const h=new ye(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zo(u.serializer,h)}}if(a instanceof Nd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ys)return{bytesValue:Tv(u.serializer,a._byteString)};if(a instanceof en){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:pd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Od)return function(d,g){return{mapValue:{fields:{[Z_]:{stringValue:$_},[Yo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Vc("VectorValues must only contain numeric values.");return fd(g.serializer,_)})}}}}}}(a,u);throw u.Vc(`Unsupported field value: ${fc(a)}`)}(s,e)}function n0(s,e){const i={};return G_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(s,(a,u)=>{const h=nu(u,e.Ic(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function i0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ye||s instanceof Nd||s instanceof ys||s instanceof en||s instanceof Id||s instanceof Od)}function Ud(s,e,i){if(!i0(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=fc(i);throw a==="an object"?e.Vc(s+" a custom object"):e.Vc(s+" "+a)}}function td(s,e,i){if((e=ti(e))instanceof mc)return e._internalPath;if(typeof e=="string")return zd(s,e);throw tc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Mb=new RegExp("[~\\*/\\[\\]]");function zd(s,e,i){if(e.search(Mb)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mc(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function tc(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${u}`),v+=")"),new rt(K.INVALID_ARGUMENT,g+s+v)}function r0(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ld("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xb extends a0{data(){return super.data()}}function Ld(s,e){return typeof e=="string"?zd(s,e):e instanceof mc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pd{}class s0 extends Pd{}function zb(s,e,...i){let a=[];e instanceof Pd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(v=>v instanceof qd).length,g=h.filter(v=>v instanceof Bd).length;if(d>1||d>0&&g>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class Bd extends s0{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Bd(e,i,a)}_apply(e){const i=this._parse(e);return l0(e._query,i),new ca(e.firestore,e.converter,jf(e._query,i))}_parse(e){const i=xd(e.firestore);return function(h,d,g,v,_,A,C){let I;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){T_(C,A);const Z=[];for(const nt of C)Z.push(E_(v,h,nt));I={arrayValue:{values:Z}}}else I=E_(v,h,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||T_(C,A),I=Ob(g,d,C,A==="in"||A==="not-in");return pe.create(_,A,I)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class qd extends Pd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new qd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Mn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const g=h.getFlattenedFilters();for(const v of g)l0(d,v),d=jf(d,v)}(e._query,i),new ca(e.firestore,e.converter,jf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kd extends s0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new kd(e,i)}_apply(e){const i=function(u,h,d){if(u.startAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(h,d)}(e._query,this._field,this._direction);return new ca(e.firestore,e.converter,function(u,h){const d=u.explicitOrderBy.concat([h]);return new As(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function Lb(s,e="asc"){const i=e,a=Ld("orderBy",s);return kd._create(a,i)}function E_(s,e,i){if(typeof(i=ti(i))=="string"){if(i==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!av(e)&&i.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Jt.fromString(i));if(!ut.isDocumentKey(a))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return My(s,new ut(a))}if(i instanceof en)return My(s,i._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function T_(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l0(s,e){const i=function(u,h){for(const d of u)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Pb{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return _r(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[Yo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Od(h)}convertGeoPoint(e){return new Nd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ic(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=dr(e);return new ye(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);kt(Cv(a),9688,{name:e});const u=new Fl(a.get(1),a.get(3)),h=new ut(a.popFirst(5));return u.isEqual(i)||Vi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class u0 extends a0{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Po(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Ld("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Po extends u0{data(e={}){return super.data(e)}}class qb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ll(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Po(this._firestore,this._userDataWriter,a.key,a,new Ll(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const v=new Po(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ll(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Po(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ll(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:kb(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function kb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}class o0 extends Pb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function jb(s,e,i,...a){s=cr(s,en);const u=cr(s.firestore,ps),h=xd(u);let d;return d=typeof(e=ti(e))=="string"||e instanceof mc?Nb(h,"updateDoc",s._key,e,i,a):Ib(h,"updateDoc",s._key,e),jd(u,[d.toMutation(s._key,On.exists(!0))])}function Hb(s){return jd(cr(s.firestore,ps),[new dd(s._key,On.none())])}function Gb(s,e){const i=cr(s.firestore,ps),a=Wf(s),u=Bb(s.converter,e);return jd(i,[Vb(xd(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,On.exists(!1))]).then(()=>a)}function Qb(s,...e){var i,a,u;s=ti(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||v_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(v_(e[d])){const C=e[d];e[d]=(i=C.next)===null||i===void 0?void 0:i.bind(C),e[d+1]=(a=C.error)===null||a===void 0?void 0:a.bind(C),e[d+2]=(u=C.complete)===null||u===void 0?void 0:u.bind(C)}let v,_,A;if(s instanceof en)_=cr(s.firestore,ps),A=hd(s._key.path),v={next:C=>{e[d]&&e[d](Yb(_,s,C))},error:e[d+1],complete:e[d+2]};else{const C=cr(s,ca);_=cr(C.firestore,ps),A=C._query;const I=new o0(_);v={next:j=>{e[d]&&e[d](new qb(_,I,C,j))},error:e[d+1],complete:e[d+2]},Ub(s._query)}return function(I,j,Z,nt){const $=new _b(nt),Et=new WS(j,$,Z);return I.asyncQueue.enqueueAndForget(async()=>XS(await c_(I),Et)),()=>{$.Cu(),I.asyncQueue.enqueueAndForget(async()=>ZS(await c_(I),Et))}}(Wv(_),A,g,v)}function jd(s,e){return function(a,u){const h=new aa;return a.asyncQueue.enqueueAndForget(async()=>ob(await Tb(a),u,h)),h.promise}(Wv(s),e)}function Yb(s,e,i){const a=i.docs.get(e._key),u=new o0(s);return new u0(s,u,e._key,a,new Ll(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){vs=u})(m1),Ho(new Hl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new ps(new I1(a.getProvider("auth-internal")),new M1(d,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),us(Ty,Ay,e),us(Ty,Ay,"esm2017")})();const Fb={apiKey:"AIzaSyBBnNs3ramzn2qXMfTX2FdGc67gmcwMKiM",authDomain:"billsplit-2d0f8.firebaseapp.com",projectId:"billsplit-2d0f8",storageBucket:"billsplit-2d0f8.firebasestorage.app",messagingSenderId:"904271053829",appId:"1:904271053829:web:8b8b2a7c5d1a01e6b0c86c",measurementId:"G-PCX4EP9SEL"},Kb=I_(Fb),Bo=bb(Kb),Xb=()=>{const[s,e]=ls.useState([]),[i,a]=ls.useState(null);ls.useEffect(()=>{const d=zb(Jv(Bo,"users"),Lb("created","asc")),g=Qb(d,v=>{const _=v.docs.map(A=>({id:A.id,...A.data()}));e(_)});return()=>g()},[]);const u=async d=>{if(window.confirm("Are you sure you want to delete this entry?"))try{await Hb(Wf(Bo,"users",d)),console.log("Goodbye paps ")}catch(v){console.error("Error deleting user:",v)}},h=async()=>{if(i)try{await jb(Wf(Bo,"users",i.id),{name:i.name}),a(null)}catch(d){console.error("Update failed:",d)}};return Mt.jsxs("div",{style:{padding:"1rem",fontFamily:"Arial, sans-serif"},children:[Mt.jsx("h2",{children:"Budol Split Users"}),Mt.jsxs("table",{style:{borderCollapse:"collapse",width:"100%"},children:[Mt.jsx("thead",{children:Mt.jsxs("tr",{children:[Mt.jsx("th",{hidden:!0,children:"ID"}),Mt.jsx("th",{children:"Name"}),Mt.jsx("th",{children:"Created Date"}),Mt.jsx("th",{})]})}),Mt.jsx("tbody",{children:s.map(d=>Mt.jsxs("tr",{children:[Mt.jsx("td",{children:d.name}),Mt.jsx("td",{children:new Date(d.created.seconds*1e3).toLocaleString()}),Mt.jsx("td",{className:"border px-4 py-2",children:Mt.jsx("button",{className:"bg-blue-500 text-white px-2 py-1 rounded",onClick:()=>a(d),children:"Edit"})}),Mt.jsx("td",{children:Mt.jsx("button",{onClick:()=>u(d.id),className:"bg-red-500 text-white px-2 py-1 rounded ml-2",children:"Delete"})})]},d.id))})]}),i&&Mt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:Mt.jsxs("div",{className:"bg-white p-6 rounded shadow-lg min-w-[300px]",children:[Mt.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Calculation"}),Mt.jsxs("div",{className:"mb-2",children:[Mt.jsx("label",{className:"block",children:"Name"}),Mt.jsx("input",{type:"text",value:i.name,onChange:d=>a({...i,name:String(d.target.value)}),className:"border w-full px-2 py-1 rounded"})]}),Mt.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[Mt.jsx("button",{className:"bg-gray-300 px-3 py-1 rounded",onClick:()=>a(null),children:"Cancel"}),Mt.jsx("button",{className:"bg-green-500 text-white px-3 py-1 rounded",onClick:h,children:"Save"})]})]})})]})},Zb=()=>{const[s,e]=ls.useState(""),[i,a]=ls.useState(""),u=async()=>{try{await Gb(Jv(Bo,"users"),{name:s,created:ye.now()}),a(" Pasok ka na paps "+s),e("")}catch(h){console.error("Error saving to Firestore:",h),a(" Mali")}};return Mt.jsxs("div",{children:[Mt.jsx("h2",{children:"Register user"}),Mt.jsx("input",{type:"text",value:s,onChange:h=>e(String(h.target.value)),placeholder:"Name"}),Mt.jsx("button",{onClick:u,children:"Register"}),i&&Mt.jsx("p",{children:i})]})};HE.createRoot(document.getElementById("root")).render(Mt.jsxs(ls.StrictMode,{children:[Mt.jsx(Xb,{}),Mt.jsx(Zb,{})]}));
